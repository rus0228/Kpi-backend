(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[472],{7110:function(N,L,e){"use strict";var R=e(67294),u=e(81257),S=e(27199),F=e(30731),K=e(4874),c=function(o,x){var i={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&x.indexOf(n)<0&&(i[n]=o[n]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(o);s<n.length;s++)x.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(o,n[s])&&(i[n[s]]=o[n[s]]);return i},T=(0,R.forwardRef)(function(o,x){var i=o.style,n=i===void 0?{height:"inherit"}:i,s=o.className,j=o.loading,H=o.loadingTemplate,m=o.errorTemplate,v=c(o,["style","className","loading","loadingTemplate","errorTemplate"]),f=(0,S.Z)(u.by,v),B=f.chart,Q=f.container;return(0,R.useImperativeHandle)(x,function(){return{getChart:function(){return B.current}}}),R.createElement(F.Z,{errorTemplate:m},j&&R.createElement(K.Z,{loadingTemplate:H}),R.createElement("div",{className:s,style:n,ref:Q}))});L.Z=T},23230:function(N){N.exports={chartCard:"chartCard___3TM4T",chartTop:"chartTop___3iur-",chartTopMargin:"chartTopMargin___24rCR",chartTopHasMargin:"chartTopHasMargin___3AQNY",metaWrap:"metaWrap___3Nuv1",avatar:"avatar___FoC4K",meta:"meta___1_3lt",action:"action___3uuUN",total:"total___D6PP7",content:"content___yyFJS",contentFixed:"contentFixed___3tZUw",footer:"footer___2Huhb",footerMargin:"footerMargin___38Y2F"}},16829:function(N){N.exports={field:"field___2ZfpN",label:"label___1hOvq",number:"number___2qklC"}},74450:function(N){N.exports={trendItem:"trendItem___2dudO",up:"up___1wFiw",down:"down___2tA2-",trendItemGrey:"trendItemGrey___1ksIM",reverseColor:"reverseColor___1BPCV"}},93356:function(N,L,e){"use strict";e.d(L,{eW:function(){return lt},X6:function(){return d},mO:function(){return G},mj:function(){return C},Kz:function(){return E},qp:function(){return h}});var R=e(92077),u=e.n(R),S=e(11849),F=e(32059),K=e(93224),c=e(28991),T=e(67294),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},x=o,i=e(27029),n=function(a,t){return T.createElement(i.Z,(0,c.Z)((0,c.Z)({},a),{},{ref:t,icon:x}))};n.displayName="CaretUpOutlined";var s=T.forwardRef(n),j={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},H=j,m=function(a,t){return T.createElement(i.Z,(0,c.Z)((0,c.Z)({},a),{},{ref:t,icon:H}))};m.displayName="CaretDownOutlined";var v=T.forwardRef(m),f=e(94184),B=e.n(f),Q=e(74450),V=e.n(Q),l=e(85893),$=function(a){var t,r=a.colorful,p=r===void 0?!0:r,g=a.reverseColor,P=g===void 0?!1:g,W=a.flag,M=a.children,Z=a.className,Y=(0,K.Z)(a,["colorful","reverseColor","flag","children","className"]),J=B()(V().trendItem,(t={},(0,F.Z)(t,V().trendItemGrey,!p),(0,F.Z)(t,V().reverseColor,P&&p),t),Z),U={color:"green",fontSize:17},rt={color:"red",fontSize:17};return(0,l.jsxs)("div",(0,S.Z)((0,S.Z)({},Y),{},{className:J,title:typeof M=="string"?M:"",children:[(0,l.jsx)("span",{children:M}),W&&(0,l.jsx)("span",{style:W==="up"?U:rt,children:W==="up"?(0,l.jsx)(s,{}):(0,l.jsx)(v,{})})]}))},w=$,_=e(30381),O=e.n(_),lt=function(a){var t=a.current,r=a.prev,p=t>r||r===null?"up":"down",g=t>r?"+".concat(u()((t-r)/r*100).format("0,0.00"),"%"):"".concat(u()((t-r)/r*100).format("0,0.00"),"%");return(0,l.jsx)(w,{flag:p,style:{marginRight:16},children:(0,l.jsx)("span",{style:{paddingRight:10},children:r!==null&&t!==null?g:"Empty previous or current value"})})},G=function(a){var t=a.current,r=a.prev,p=a._startTime,g=a._endTime,P=t>r?"+".concat(u()(t-r).format("0,0.00"),"\u20AC"):"".concat(u()(t-r).format("0,0.00"),"\u20AC"),W=t>r?"+".concat(u()((t-r)/r*100).format("0,0.00"),"%"):"".concat(u()((t-r)/r*100).format("0,0.00"),"%");return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:r!==null&&t!==null?W:"Empty previous or current value"}),(0,l.jsx)("div",{children:P}),(0,l.jsx)("div",{children:"".concat(O()(p).format("YYYY/MM/DD")," - ").concat(O()(g).format("YYYY/MM/DD"))})]})},C=function(a){var t=a.current,r=a.prev,p=a._startTime,g=a._endTime,P=t>r?"+".concat(u()(t-r).format("0,0")):"".concat(u()(t-r).format("0,0")),W=t>r?"+".concat(u()((t-r)/r*100).format("0,0.00"),"%"):"".concat(u()((t-r)/r*100).format("0,0.00"),"%");return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:W}),(0,l.jsx)("div",{children:P}),(0,l.jsx)("div",{children:"".concat(O()(p).format("YYYY/MM/DD")," - ").concat(O()(g).format("YYYY/MM/DD"))})]})},h=function(a){var t=a.seconds;t=Number(t);var r=Math.floor(t/(3600*24)),p=Math.floor(t%(3600*24)/3600),g=Math.floor(t%3600/60),P=Math.floor(t%60),W=r>0?r+"d":"",M=p>0?p+"h":"",Z=g>0?g+"m":"",Y=P>0?P+"s":"";return"".concat(W," ").concat(M," ").concat(Z," ").concat(Y)},E=function(a){var t=a.current,r=a.prev,p=a._startTime,g=a._endTime,P=t>r?t-r:r-t;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)(h,{seconds:P})}),(0,l.jsx)("div",{children:"".concat(O()(p).format("YYYY/MM/DD")," - ").concat(O()(g).format("YYYY/MM/DD"))})]})},d=function(a){var t=a.current,r=a.prev,p=t>r?"up":"down",g=t>r?t-r:r-t;return(0,l.jsx)(w,{flag:p,style:{marginRight:16},children:(0,l.jsx)("span",{children:(0,l.jsx)(h,{seconds:g})})})}},4937:function(N,L,e){"use strict";e.d(L,{H:function(){return S},l:function(){return F}});var R=e(30381),u=e.n(R),S=function(c){var T=c.store,o=u()(c.range[0]).format("YYYY-MM-DD HH:mm:ss"),x=u()(c.range[1]).format("YYYY-MM-DD HH:mm:ss");if(c.compare==="lastDuration"){var i=u()(x).diff(o,"days"),n=u()(o,"YYYY-MM-DD HH:mm:ss").subtract(i+1,"days").format("YYYY-MM-DD HH:mm:ss"),s=u()(n,"YYYY-MM-DD HH:mm:ss").add(i,"days").format("YYYY-MM-DD 23:59:59");return{store:T,startTime:o,endTime:x,_startTime:n,_endTime:s}}if(c.compare==="lastYear"){var j=u()(o,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),H=u()(x,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),m=j.format("YYYY-MM-DD HH:mm:ss"),v=H.format("YYYY-MM-DD HH:mm:ss");return{store:T,startTime:o,endTime:x,_startTime:m,_endTime:v}}},F=function(c,T,o){var x=o===0?"":"\u20AC";if(T>0){var i=o===0?c-T:(c-T).toFixed(2),n=i/T*100;return{diff:i>0?"+".concat(i).concat(x):"".concat(i).concat(x),percentage:n>0?"+".concat(n.toFixed(2),"%"):"".concat(n.toFixed(2),"%")}}else{var s=o===0?c:c.toFixed(2),j="\u221E";return{diff:s>0?"+".concat(s).concat(x):"".concat(s).concat(x),percentage:"no previous records"}}}},84186:function(N,L,e){"use strict";e.d(L,{th:function(){return V},c2:function(){return O}});var R=e(92077),u=e.n(R),S=e(11849),F=e(58024),K=e(39144),c=e(93224),T=e(32059),o=e(69610),x=e(54941),i=e(81306),n=e(19809),s=e(67294),j=e(94184),H=e.n(j),m=e(23230),v=e.n(m),f=e(85893),B=function(C){if(!C&&C!==0)return null;var h;switch(typeof C){case"undefined":h=null;break;case"function":h=(0,f.jsx)("div",{className:v().total,children:C()});break;default:h=(0,f.jsx)("div",{className:v().total,children:C})}return h},Q=function(G){(0,i.Z)(h,G);var C=(0,n.Z)(h);function h(){var E;(0,o.Z)(this,h);for(var d=arguments.length,y=new Array(d),a=0;a<d;a++)y[a]=arguments[a];return E=C.call.apply(C,[this].concat(y)),E.renderContent=function(){var t=E.props,r=t.contentHeight,p=t.title,g=t.avatar,P=t.action,W=t.total,M=t.footer,Z=t.children,Y=t.loading;return Y?!1:(0,f.jsxs)("div",{className:v().chartCard,children:[(0,f.jsxs)("div",{className:H()(v().chartTop,(0,T.Z)({},v().chartTopMargin,!Z&&!M)),children:[(0,f.jsx)("div",{className:v().avatar,children:g}),(0,f.jsxs)("div",{className:v().metaWrap,children:[(0,f.jsxs)("div",{className:v().meta,children:[(0,f.jsx)("span",{className:v().title,children:p}),(0,f.jsx)("span",{className:v().action,children:P})]}),B(W)]})]}),Z&&(0,f.jsx)("div",{className:v().content,style:{height:r||"auto"},children:(0,f.jsx)("div",{className:r&&v().contentFixed,children:Z})}),M&&(0,f.jsx)("div",{className:H()(v().footer,(0,T.Z)({},v().footerMargin,!Z)),children:M})]})},E}return(0,x.Z)(h,[{key:"render",value:function(){var d=this.props,y=d.loading,a=y===void 0?!1:y,t=d.contentHeight,r=d.title,p=d.avatar,g=d.action,P=d.total,W=d.footer,M=d.children,Z=(0,c.Z)(d,["loading","contentHeight","title","avatar","action","total","footer","children"]);return(0,f.jsx)(K.Z,(0,S.Z)((0,S.Z)({loading:a,bodyStyle:{padding:"20px 24px 8px 24px"}},Z),{},{children:this.renderContent()}))}}]),h}(s.Component),V=Q,l=e(16829),$=e.n(l),w=function(C){var h=C.label,E=C.value,d=(0,c.Z)(C,["label","value"]);return(0,f.jsxs)("div",(0,S.Z)((0,S.Z)({className:$().field},d),{},{children:[(0,f.jsx)("span",{className:$().label,children:h}),(0,f.jsx)("span",{className:$().number,children:E})]}))},_=w,O=function(C){return"".concat(u()(C).format("0,0.00")," \u20AC")},lt={yuan:O,ChartCard:V,Field:_}},21937:function(N,L,e){"use strict";e.d(L,{Z:function(){return o}});var R=e(69610),u=e(54941),S=e(81306),F=e(19809),K=e(67294),c=e(84186),T=e(85893),o=function(x){(0,S.Z)(n,x);var i=(0,F.Z)(n);function n(){var s;(0,R.Z)(this,n);for(var j=arguments.length,H=new Array(j),m=0;m<j;m++)H[m]=arguments[m];return s=i.call.apply(i,[this].concat(H)),s.main=null,s.renderToHtml=function(){var v=s.props.children;s.main&&(s.main.innerHTML=(0,c.c2)(v))},s}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.renderToHtml()}},{key:"componentDidUpdate",value:function(){this.renderToHtml()}},{key:"render",value:function(){var j=this;return(0,T.jsx)("span",{ref:function(m){j.main=m}})}}]),n}(K.Component)},36592:function(N,L,e){"use strict";e.r(L),e.d(L,{default:function(){return W}});var R=e(58024),u=e(39144),S=e(13254),F=e(14277),K=e(13062),c=e(71230),T=e(89032),o=e(15746),x=e(22385),i=e(69713),n=e(11849),s=e(2824),j=e(21010),H=e(21349),m=e(67294),v=e(3182),f=e(94043),B=e.n(f);function Q(){return V.apply(this,arguments)}function V(){return V=(0,v.Z)(B().mark(function M(){return B().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",(0,j.WY)("/api/fake_analysis_chart_data"));case 1:case"end":return Y.stop()}},M)})),V.apply(this,arguments)}function l(M,Z,Y,J,U,rt){return $.apply(this,arguments)}function $(){return $=(0,v.Z)(B().mark(function M(Z,Y,J,U,rt,ct){return B().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.abrupt("return",(0,j.WY)("/api/getInventoryLossesData?startTime=".concat(Z,"&endTime=").concat(Y,"&_startTime=").concat(J,"&_endTime=").concat(U,"&store=").concat(rt,"&kind=").concat(ct)));case 1:case"end":return z.stop()}},M)})),$.apply(this,arguments)}var w=e(30381),_=e.n(w),O=e(68628),lt=e(92077),G=e.n(lt),C=e(7110),h=e(84186),E=e(21937),d=e(93356),y=e(4937),a=e(85518),t=e(85893),r=a.tq?{marginTop:164}:{},p={xs:24,sm:24,md:24,lg:24,xl:8},g={xs:24,sm:24,md:24,lg:24,xl:12},P=function(){var Z=(0,j.tT)("@@initialState"),Y=Z.initialState,J=(0,j.QT)(Q),U=J.loading,rt=J.data,ct=(0,m.useState)({current:0,prev:0}),dt=(0,s.Z)(ct,2),z=dt[0],gt=dt[1],Tt=(0,m.useState)({current:0,prev:0}),ut=(0,s.Z)(Tt,2),X=ut[0],jt=ut[1],Ct=(0,m.useState)({current:0,prev:0}),mt=(0,s.Z)(Ct,2),it=mt[0],yt=mt[1],Dt=(0,m.useState)({current:0,prev:0}),vt=(0,s.Z)(Dt,2),k=vt[0],Mt=vt[1],Zt=(0,m.useState)({current:0,prev:0}),ft=(0,s.Z)(Zt,2),nt=ft[0],Yt=ft[1],Ot=(0,m.useState)({current:0,prev:0}),ht=(0,s.Z)(Ot,2),at=ht[0],Et=ht[1],ot={current:X.current+k.current,prev:X.prev+k.prev},st=(0,y.H)(Y),q=st.startTime,tt=st.endTime,A=st._startTime,I=st._endTime,et=st.store,Pt="".concat(_()(A).format("YYYY/MM/DD")," ~ ").concat(_()(I).format("YYYY/MM/DD"));m.useEffect(function(){l(q,tt,A,I,et,"totalRma").then(function(D){gt((0,n.Z)({},D))}),l(q,tt,A,I,et,"lostRma").then(function(D){jt((0,n.Z)({},D))}),l(q,tt,A,I,et,"totalLossesWithRma").then(function(D){yt((0,n.Z)({},D))}),l(q,tt,A,I,et,"totalLossesWithoutRma").then(function(D){Mt((0,n.Z)({},D))}),l(q,tt,A,I,et,"processing").then(function(D){Yt((0,n.Z)({},D))}),l(q,tt,A,I,et,"shipped").then(function(D){Et((0,n.Z)({},D))})},[Y]);var pt=(0,y.l)(parseFloat(it.current),parseFloat(it.prev),1),xt=(0,y.l)(parseFloat(k.current),parseFloat(k.prev),1);return(0,t.jsxs)(H.Z,{style:r,children:[(0,t.jsx)(c.Z,{gutter:24,children:(0,t.jsx)(o.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,t.jsxs)(m.Suspense,{fallback:null,children:[(0,t.jsxs)(c.Z,{gutter:[24,24],children:[(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},g),{},{style:{marginBottom:24},children:(0,t.jsx)(h.th,{bordered:!1,title:"Total Processing Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:nt.current,prev:nt.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:U,total:function(){return(0,t.jsx)(E.Z,{children:nt.current})},footer:(0,t.jsx)(d.eW,{current:nt.current,prev:nt.prev}),contentHeight:46})})),(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},g),{},{children:(0,t.jsx)(h.th,{bordered:!1,title:"Total Shipped Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:at.current,prev:at.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:U,total:function(){return(0,t.jsx)(E.Z,{children:at.current})},footer:(0,t.jsx)(d.eW,{current:at.current,prev:at.prev}),contentHeight:46})}))]}),(0,t.jsxs)(c.Z,{gutter:[24,24],children:[(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},p),{},{children:(0,t.jsx)(h.th,{bordered:!1,title:"Total RMA Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:z.current,prev:z.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:U,total:function(){return(0,t.jsx)(E.Z,{children:z.current})},footer:(0,t.jsx)(d.eW,{current:z.current,prev:z.prev}),contentHeight:46})})),(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},p),{},{children:(0,t.jsx)(h.th,{bordered:!1,title:"Lost RMA Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:X.current,prev:X.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:U,total:function(){return(0,t.jsx)(E.Z,{children:X.current})},footer:(0,t.jsx)(d.eW,{current:X.current,prev:X.prev}),contentHeight:46})})),(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},p),{},{children:(0,t.jsx)(h.th,{bordered:!1,title:"Total Losses Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:ot.current,prev:ot.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:U,total:function(){return(0,t.jsx)(E.Z,{children:ot.current})},footer:(0,t.jsx)(d.eW,{current:ot.current,prev:ot.prev}),contentHeight:46})}))]})]})})}),(0,t.jsx)(c.Z,{gutter:24,style:{marginTop:20},children:(0,t.jsx)(o.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(m.Suspense,{fallback:null,children:(0,t.jsx)(u.Z,{loading:U,bordered:!1,title:"Total losses with and without RMA assigned",style:{height:"100%"},children:it&&k?(0,t.jsx)(C.Z,{radius:.8,angleField:"y",colorField:"x",data:[{x:"With RMA assigned",y:it.current,a:pt.diff,b:pt.percentage},{x:"Without RMA assigned",y:k.current,a:xt.diff,b:xt.percentage}],label:{type:"outer",style:{fontSize:15},formatter:function(Rt,b){return"".concat(G()(b._origin.y).format("0,0.00"),"\u20AC")}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function(Rt,b){return b.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(b[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(b[0].data.y,"\u20AC")+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(Pt)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(b[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(b[0].data.b)+"</div>":""}}}):(0,t.jsx)(F.Z,{})})})})})]})},W=P}}]);
