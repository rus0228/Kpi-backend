(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[472],{7110:function(N,W,e){"use strict";var H=e(67294),u=e(2792),S=e(27199),U=e(30731),B=e(4874),c=function(o,x){var i={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&x.indexOf(n)<0&&(i[n]=o[n]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(o);s<n.length;s++)x.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(o,n[s])&&(i[n[s]]=o[n[s]]);return i},T=(0,H.forwardRef)(function(o,x){var i=o.style,n=i===void 0?{height:"inherit"}:i,s=o.className,j=o.loading,R=o.loadingTemplate,m=o.errorTemplate,v=c(o,["style","className","loading","loadingTemplate","errorTemplate"]),f=(0,S.Z)(u.by,v),K=f.chart,b=f.container;return(0,H.useImperativeHandle)(x,function(){return{getChart:function(){return K.current}}}),H.createElement(U.Z,{errorTemplate:m},j&&H.createElement(B.Z,{loadingTemplate:R}),H.createElement("div",{className:s,style:n,ref:b}))});W.Z=T},23230:function(N){N.exports={chartCard:"chartCard___3TM4T",chartTop:"chartTop___3iur-",chartTopMargin:"chartTopMargin___24rCR",chartTopHasMargin:"chartTopHasMargin___3AQNY",metaWrap:"metaWrap___3Nuv1",avatar:"avatar___FoC4K",meta:"meta___1_3lt",action:"action___3uuUN",total:"total___D6PP7",content:"content___yyFJS",contentFixed:"contentFixed___3tZUw",footer:"footer___2Huhb",footerMargin:"footerMargin___38Y2F"}},16829:function(N){N.exports={field:"field___2ZfpN",label:"label___1hOvq",number:"number___2qklC"}},74450:function(N){N.exports={trendItem:"trendItem___2dudO",up:"up___1wFiw",down:"down___2tA2-",trendItemGrey:"trendItemGrey___1ksIM",reverseColor:"reverseColor___1BPCV"}},93356:function(N,W,e){"use strict";e.d(W,{eW:function(){return lt},X6:function(){return d},mO:function(){return $},mj:function(){return C},Kz:function(){return E},qp:function(){return h}});var H=e(92077),u=e.n(H),S=e(11849),U=e(32059),B=e(93224),c=e(28991),T=e(67294),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},x=o,i=e(27029),n=function(a,t){return T.createElement(i.Z,(0,c.Z)((0,c.Z)({},a),{},{ref:t,icon:x}))};n.displayName="CaretUpOutlined";var s=T.forwardRef(n),j={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},R=j,m=function(a,t){return T.createElement(i.Z,(0,c.Z)((0,c.Z)({},a),{},{ref:t,icon:R}))};m.displayName="CaretDownOutlined";var v=T.forwardRef(m),f=e(94184),K=e.n(f),b=e(74450),z=e.n(b),l=e(85893),V=function(a){var t,r=a.colorful,p=r===void 0?!0:r,g=a.reverseColor,P=g===void 0?!1:g,L=a.flag,Z=a.children,y=a.className,Y=(0,B.Z)(a,["colorful","reverseColor","flag","children","className"]),Q=K()(z().trendItem,(t={},(0,U.Z)(t,z().trendItemGrey,!p),(0,U.Z)(t,z().reverseColor,P&&p),t),y),F={color:"green",fontSize:17},rt={color:"red",fontSize:17};return(0,l.jsxs)("div",(0,S.Z)((0,S.Z)({},Y),{},{className:Q,title:typeof Z=="string"?Z:"",children:[(0,l.jsx)("span",{children:Z}),L&&(0,l.jsx)("span",{style:L==="up"?F:rt,children:L==="up"?(0,l.jsx)(s,{}):(0,l.jsx)(v,{})})]}))},w=V,_=e(30381),O=e.n(_),lt=function(a){var t=a.current,r=a.prev,p=t>r||r===null?"up":"down",g=t>r?"+".concat(u()((t-r)/r*100).format("0,0.00"),"%"):"".concat(u()((t-r)/r*100).format("0,0.00"),"%");return(0,l.jsx)(w,{flag:p,style:{marginRight:16},children:(0,l.jsx)("span",{style:{paddingRight:10},children:r!==null&&t!==null?g:"Empty previous or current value"})})},$=function(a){var t=a.current,r=a.prev,p=a._startTime,g=a._endTime,P=t>r?"+".concat(u()(t-r).format("0,0.00"),"\u20AC"):"".concat(u()(t-r).format("0,0.00"),"\u20AC"),L=t>r?"+".concat(u()((t-r)/r*100).format("0,0.00"),"%"):"".concat(u()((t-r)/r*100).format("0,0.00"),"%");return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:r!==null&&t!==null?L:"Empty previous or current value"}),(0,l.jsx)("div",{children:P}),(0,l.jsx)("div",{children:"".concat(O()(p).format("YYYY/MM/DD")," - ").concat(O()(g).format("YYYY/MM/DD"))})]})},C=function(a){var t=a.current,r=a.prev,p=a._startTime,g=a._endTime,P=t>r?"+".concat(u()(t-r).format("0,0")):"".concat(u()(t-r).format("0,0")),L=t>r?"+".concat(u()((t-r)/r*100).format("0,0.00"),"%"):"".concat(u()((t-r)/r*100).format("0,0.00"),"%");return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:L}),(0,l.jsx)("div",{children:P}),(0,l.jsx)("div",{children:"".concat(O()(p).format("YYYY/MM/DD")," - ").concat(O()(g).format("YYYY/MM/DD"))})]})},h=function(a){var t=a.seconds;t=Number(t);var r=Math.floor(t/(3600*24)),p=Math.floor(t%(3600*24)/3600),g=Math.floor(t%3600/60),P=Math.floor(t%60),L=r>0?r+"d":"",Z=p>0?p+"h":"",y=g>0?g+"m":"",Y=P>0?P+"s":"";return"".concat(L," ").concat(Z," ").concat(y," ").concat(Y)},E=function(a){var t=a.current,r=a.prev,p=a._startTime,g=a._endTime,P=t>r?t-r:r-t;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)(h,{seconds:P})}),(0,l.jsx)("div",{children:"".concat(O()(p).format("YYYY/MM/DD")," - ").concat(O()(g).format("YYYY/MM/DD"))})]})},d=function(a){var t=a.current,r=a.prev,p=t>r?"up":"down",g=t>r?t-r:r-t;return(0,l.jsx)(w,{flag:p,style:{marginRight:16},children:(0,l.jsx)("span",{children:(0,l.jsx)(h,{seconds:g})})})}},4937:function(N,W,e){"use strict";e.d(W,{H:function(){return S},l:function(){return U}});var H=e(30381),u=e.n(H),S=function(c){var T=c.store,o=u()(c.range[0]).format("YYYY-MM-DD HH:mm:ss"),x=u()(c.range[1]).format("YYYY-MM-DD HH:mm:ss");if(c.compare==="lastDuration"){var i=u()(x).diff(o,"days"),n=u()(o,"YYYY-MM-DD HH:mm:ss").subtract(i+1,"days").format("YYYY-MM-DD HH:mm:ss"),s=u()(n,"YYYY-MM-DD HH:mm:ss").add(i,"days").format("YYYY-MM-DD 23:59:59");return{store:T,startTime:o,endTime:x,_startTime:n,_endTime:s}}if(c.compare==="lastYear"){var j=u()(o,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),R=u()(x,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),m=j.format("YYYY-MM-DD HH:mm:ss"),v=R.format("YYYY-MM-DD HH:mm:ss");return{store:T,startTime:o,endTime:x,_startTime:m,_endTime:v}}},U=function(c,T,o){var x=o===0?"":"\u20AC";if(T>0){var i=o===0?c-T:(c-T).toFixed(2),n=i/T*100;return{diff:i>0?"+".concat(i).concat(x):"".concat(i).concat(x),percentage:n>0?"+".concat(n.toFixed(2),"%"):"".concat(n.toFixed(2),"%")}}else{var s=o===0?c:c.toFixed(2),j="\u221E";return{diff:s>0?"+".concat(s).concat(x):"".concat(s).concat(x),percentage:"no previous records"}}}},84186:function(N,W,e){"use strict";e.d(W,{th:function(){return z},c2:function(){return O}});var H=e(92077),u=e.n(H),S=e(11849),U=e(58024),B=e(39144),c=e(93224),T=e(32059),o=e(69610),x=e(54941),i=e(81306),n=e(19809),s=e(67294),j=e(94184),R=e.n(j),m=e(23230),v=e.n(m),f=e(85893),K=function(C){if(!C&&C!==0)return null;var h;switch(typeof C){case"undefined":h=null;break;case"function":h=(0,f.jsx)("div",{className:v().total,children:C()});break;default:h=(0,f.jsx)("div",{className:v().total,children:C})}return h},b=function($){(0,i.Z)(h,$);var C=(0,n.Z)(h);function h(){var E;(0,o.Z)(this,h);for(var d=arguments.length,D=new Array(d),a=0;a<d;a++)D[a]=arguments[a];return E=C.call.apply(C,[this].concat(D)),E.renderContent=function(){var t=E.props,r=t.contentHeight,p=t.title,g=t.avatar,P=t.action,L=t.total,Z=t.footer,y=t.children,Y=t.loading;return Y?!1:(0,f.jsxs)("div",{className:v().chartCard,children:[(0,f.jsxs)("div",{className:R()(v().chartTop,(0,T.Z)({},v().chartTopMargin,!y&&!Z)),children:[(0,f.jsx)("div",{className:v().avatar,children:g}),(0,f.jsxs)("div",{className:v().metaWrap,children:[(0,f.jsxs)("div",{className:v().meta,children:[(0,f.jsx)("span",{className:v().title,children:p}),(0,f.jsx)("span",{className:v().action,children:P})]}),K(L)]})]}),y&&(0,f.jsx)("div",{className:v().content,style:{height:r||"auto"},children:(0,f.jsx)("div",{className:r&&v().contentFixed,children:y})}),Z&&(0,f.jsx)("div",{className:R()(v().footer,(0,T.Z)({},v().footerMargin,!y)),children:Z})]})},E}return(0,x.Z)(h,[{key:"render",value:function(){var d=this.props,D=d.loading,a=D===void 0?!1:D,t=d.contentHeight,r=d.title,p=d.avatar,g=d.action,P=d.total,L=d.footer,Z=d.children,y=(0,c.Z)(d,["loading","contentHeight","title","avatar","action","total","footer","children"]);return(0,f.jsx)(B.Z,(0,S.Z)((0,S.Z)({loading:a,bodyStyle:{padding:"20px 24px 8px 24px"}},y),{},{children:this.renderContent()}))}}]),h}(s.Component),z=b,l=e(16829),V=e.n(l),w=function(C){var h=C.label,E=C.value,d=(0,c.Z)(C,["label","value"]);return(0,f.jsxs)("div",(0,S.Z)((0,S.Z)({className:V().field},d),{},{children:[(0,f.jsx)("span",{className:V().label,children:h}),(0,f.jsx)("span",{className:V().number,children:E})]}))},_=w,O=function(C){return"".concat(u()(C).format("0,0.00")," \u20AC")},lt={yuan:O,ChartCard:z,Field:_}},21937:function(N,W,e){"use strict";e.d(W,{Z:function(){return o}});var H=e(69610),u=e(54941),S=e(81306),U=e(19809),B=e(67294),c=e(84186),T=e(85893),o=function(x){(0,S.Z)(n,x);var i=(0,U.Z)(n);function n(){var s;(0,H.Z)(this,n);for(var j=arguments.length,R=new Array(j),m=0;m<j;m++)R[m]=arguments[m];return s=i.call.apply(i,[this].concat(R)),s.main=null,s.renderToHtml=function(){var v=s.props.children;s.main&&(s.main.innerHTML=(0,c.c2)(v))},s}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.renderToHtml()}},{key:"componentDidUpdate",value:function(){this.renderToHtml()}},{key:"render",value:function(){var j=this;return(0,T.jsx)("span",{ref:function(m){j.main=m}})}}]),n}(B.Component)},36592:function(N,W,e){"use strict";e.r(W),e.d(W,{default:function(){return L}});var H=e(58024),u=e(39144),S=e(13254),U=e(14277),B=e(13062),c=e(71230),T=e(89032),o=e(15746),x=e(22385),i=e(69713),n=e(11849),s=e(2824),j=e(21010),R=e(21349),m=e(67294),v=e(3182),f=e(94043),K=e.n(f);function b(){return z.apply(this,arguments)}function z(){return z=(0,v.Z)(K().mark(function Z(){return K().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",(0,j.WY)("/api/fake_analysis_chart_data"));case 1:case"end":return Y.stop()}},Z)})),z.apply(this,arguments)}function l(Z,y,Y,Q,F,rt){return V.apply(this,arguments)}function V(){return V=(0,v.Z)(K().mark(function Z(y,Y,Q,F,rt,ct){return K().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.abrupt("return",(0,j.WY)("/api/getInventoryLossesData?startTime=".concat(y,"&endTime=").concat(Y,"&_startTime=").concat(Q,"&_endTime=").concat(F,"&store=").concat(rt,"&kind=").concat(ct)));case 1:case"end":return G.stop()}},Z)})),V.apply(this,arguments)}var w=e(30381),_=e.n(w),O=e(68628),lt=e(92077),$=e.n(lt),C=e(7110),h=e(84186),E=e(21937),d=e(93356),D=e(4937),a=e(85518),t=e(85893),r=a.tq?{marginTop:164}:{},p={xs:24,sm:24,md:24,lg:24,xl:8},g={xs:24,sm:24,md:24,lg:24,xl:12},P=function(){var y=(0,j.tT)("@@initialState"),Y=y.initialState,Q=(0,j.QT)(b),F=Q.loading,rt=Q.data,ct=(0,m.useState)({current:0,prev:0}),dt=(0,s.Z)(ct,2),G=dt[0],gt=dt[1],Tt=(0,m.useState)({current:0,prev:0}),ut=(0,s.Z)(Tt,2),J=ut[0],jt=ut[1],Ct=(0,m.useState)({current:0,prev:0}),mt=(0,s.Z)(Ct,2),it=mt[0],Dt=mt[1],Mt=(0,m.useState)({current:0,prev:0}),vt=(0,s.Z)(Mt,2),k=vt[0],Zt=vt[1],yt=(0,m.useState)({current:0,prev:0}),ft=(0,s.Z)(yt,2),nt=ft[0],Yt=ft[1],Ot=(0,m.useState)({current:0,prev:0}),ht=(0,s.Z)(Ot,2),at=ht[0],Et=ht[1],ot={current:J.current+k.current,prev:J.prev+k.prev},st=(0,D.H)(Y),q=st.startTime,tt=st.endTime,A=st._startTime,I=st._endTime,et=st.store,Pt="".concat(_()(A).format("YYYY/MM/DD")," ~ ").concat(_()(I).format("YYYY/MM/DD"));m.useEffect(function(){l(q,tt,A,I,et,"totalRma").then(function(M){gt((0,n.Z)({},M))}),l(q,tt,A,I,et,"lostRma").then(function(M){jt((0,n.Z)({},M))}),l(q,tt,A,I,et,"totalLossesWithRma").then(function(M){Dt((0,n.Z)({},M))}),l(q,tt,A,I,et,"totalLossesWithoutRma").then(function(M){Zt((0,n.Z)({},M))}),l(q,tt,A,I,et,"processing").then(function(M){Yt((0,n.Z)({},M))}),l(q,tt,A,I,et,"shipped").then(function(M){Et((0,n.Z)({},M))})},[Y]);var pt=(0,D.l)(parseFloat(it.current),parseFloat(it.prev),1),xt=(0,D.l)(parseFloat(k.current),parseFloat(k.prev),1);return(0,t.jsxs)(R.Z,{style:r,children:[(0,t.jsx)(c.Z,{gutter:24,children:(0,t.jsx)(o.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,t.jsxs)(m.Suspense,{fallback:null,children:[(0,t.jsxs)(c.Z,{gutter:[24,24],children:[(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},g),{},{style:{marginBottom:24},children:(0,t.jsx)(h.th,{bordered:!1,title:"Total Processing Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:nt.current,prev:nt.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:F,total:function(){return(0,t.jsx)(E.Z,{children:nt.current})},footer:(0,t.jsx)(d.eW,{current:nt.current,prev:nt.prev}),contentHeight:46})})),(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},g),{},{children:(0,t.jsx)(h.th,{bordered:!1,title:"Total Shipped Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:at.current,prev:at.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:F,total:function(){return(0,t.jsx)(E.Z,{children:at.current})},footer:(0,t.jsx)(d.eW,{current:at.current,prev:at.prev}),contentHeight:46})}))]}),(0,t.jsxs)(c.Z,{gutter:[24,24],children:[(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},p),{},{children:(0,t.jsx)(h.th,{bordered:!1,title:"Total RMA Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:G.current,prev:G.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:F,total:function(){return(0,t.jsx)(E.Z,{children:G.current})},footer:(0,t.jsx)(d.eW,{current:G.current,prev:G.prev}),contentHeight:46})})),(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},p),{},{children:(0,t.jsx)(h.th,{bordered:!1,title:"Lost RMA Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:J.current,prev:J.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:F,total:function(){return(0,t.jsx)(E.Z,{children:J.current})},footer:(0,t.jsx)(d.eW,{current:J.current,prev:J.prev}),contentHeight:46})})),(0,t.jsx)(o.Z,(0,n.Z)((0,n.Z)({},p),{},{children:(0,t.jsx)(h.th,{bordered:!1,title:"Total Losses Value",action:(0,t.jsx)(i.Z,{title:(0,t.jsx)(d.mO,{current:ot.current,prev:ot.prev,_startTime:A,_endTime:I}),children:(0,t.jsx)(O.Z,{})}),loading:F,total:function(){return(0,t.jsx)(E.Z,{children:ot.current})},footer:(0,t.jsx)(d.eW,{current:ot.current,prev:ot.prev}),contentHeight:46})}))]})]})})}),(0,t.jsx)(c.Z,{gutter:24,style:{marginTop:20},children:(0,t.jsx)(o.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(m.Suspense,{fallback:null,children:(0,t.jsx)(u.Z,{loading:F,bordered:!1,title:"Total losses with and without RMA assigned",style:{height:"100%"},children:it&&k?(0,t.jsx)(C.Z,{radius:.8,angleField:"y",colorField:"x",data:[{x:"With RMA assigned",y:it.current,a:pt.diff,b:pt.percentage},{x:"Without RMA assigned",y:k.current,a:xt.diff,b:xt.percentage}],label:{type:"outer",style:{fontSize:15},formatter:function(Ht,X){return"".concat($()(X._origin.y).format("0,0.00"),"\u20AC")}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function(Ht,X){return X.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(X[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(X[0].data.y,"\u20AC")+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(Pt)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(X[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(X[0].data.b)+"</div>":""}}}):(0,t.jsx)(U.Z,{})})})})})]})},L=P}}]);
