(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[472],{7110:function(W,P,t){"use strict";var M=t(67294),c=t(81257),Z=t(27199),L=t(30731),S=t(4874),d=function(s,h){var u={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&h.indexOf(o)<0&&(u[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(s);l<o.length;l++)h.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(s,o[l])&&(u[o[l]]=s[o[l]]);return u},x=(0,M.forwardRef)(function(s,h){var u=s.style,o=u===void 0?{height:"inherit"}:u,l=s.className,T=s.loading,O=s.loadingTemplate,v=s.errorTemplate,m=d(s,["style","className","loading","loadingTemplate","errorTemplate"]),f=(0,Z.Z)(c.by,m),A=f.chart,Q=f.container;return(0,M.useImperativeHandle)(h,function(){return{getChart:function(){return A.current}}}),M.createElement(L.Z,{errorTemplate:v},T&&M.createElement(S.Z,{loadingTemplate:O}),M.createElement("div",{className:l,style:o,ref:Q}))});P.Z=x},23230:function(W){W.exports={chartCard:"chartCard___3TM4T",chartTop:"chartTop___3iur-",chartTopMargin:"chartTopMargin___24rCR",chartTopHasMargin:"chartTopHasMargin___3AQNY",metaWrap:"metaWrap___3Nuv1",avatar:"avatar___FoC4K",meta:"meta___1_3lt",action:"action___3uuUN",total:"total___D6PP7",content:"content___yyFJS",contentFixed:"contentFixed___3tZUw",footer:"footer___2Huhb",footerMargin:"footerMargin___38Y2F"}},16829:function(W){W.exports={field:"field___2ZfpN",label:"label___1hOvq",number:"number___2qklC"}},74450:function(W){W.exports={trendItem:"trendItem___2dudO",up:"up___1wFiw",down:"down___2tA2-",trendItemGrey:"trendItemGrey___1ksIM",reverseColor:"reverseColor___1BPCV"}},93356:function(W,P,t){"use strict";t.d(P,{eW:function(){return w},X6:function(){return y},mO:function(){return V},mj:function(){return tt},Kz:function(){return j},qp:function(){return N}});var M=t(92077),c=t.n(M),Z=t(11849),L=t(32059),S=t(93224),d=t(28991),x=t(67294),s={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},h=s,u=t(27029),o=function(n,a){return x.createElement(u.Z,(0,d.Z)((0,d.Z)({},n),{},{ref:a,icon:h}))};o.displayName="CaretUpOutlined";var l=x.forwardRef(o),T={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},O=T,v=function(n,a){return x.createElement(u.Z,(0,d.Z)((0,d.Z)({},n),{},{ref:a,icon:O}))};v.displayName="CaretDownOutlined";var m=x.forwardRef(v),f=t(94184),A=t.n(f),Q=t(74450),I=t.n(Q),i=t(85893),K=function(n){var a,r=n.colorful,e=r===void 0?!0:r,p=n.reverseColor,D=p===void 0?!1:p,Y=n.flag,F=n.children,R=n.className,E=(0,S.Z)(n,["colorful","reverseColor","flag","children","className"]),C=A()(I().trendItem,(a={},(0,L.Z)(a,I().trendItemGrey,!e),(0,L.Z)(a,I().reverseColor,D&&e),a),R),B={color:"green",fontSize:17},z={color:"red",fontSize:17};return(0,i.jsxs)("div",(0,Z.Z)((0,Z.Z)({},E),{},{className:C,title:typeof F=="string"?F:"",children:[(0,i.jsx)("span",{children:F}),Y&&(0,i.jsx)("span",{style:Y==="up"?B:z,children:Y==="up"?(0,i.jsx)(l,{}):(0,i.jsx)(m,{})})]}))},b=K,w=function(n){var a=n.current,r=n.prev,e=a>r?"up":"down",p=a>r?"+".concat(c()((a-r)/r*100).format("0,0.00"),"%"):"".concat(c()((a-r)/r*100).format("0,0.00"),"%");return(0,i.jsx)(b,{flag:e,style:{marginRight:16},children:(0,i.jsx)("span",{children:p})})},V=function(n){var a=n.current,r=n.prev,e=n._startTime,p=n._endTime,D=a>r?"+".concat(c()(a-r).format("0,0.00"),"\u20AC"):"".concat(c()(a-r).format("0,0.00"),"\u20AC"),Y=a>r?"+".concat(c()((a-r)/r*100).format("0,0.00"),"%"):"".concat(c()((a-r)/r*100).format("0,0.00"),"%");return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:Y}),(0,i.jsx)("div",{children:D}),(0,i.jsx)("div",{children:"".concat(e," - ").concat(p)})]})},tt=function(n){var a=n.current,r=n.prev,e=n._startTime,p=n._endTime,D=a>r?"+".concat(c()(a-r).format("0,0")):"".concat(c()(a-r).format("0,0")),Y=a>r?"+".concat(c()((a-r)/r*100).format("0,0.00"),"%"):"".concat(c()((a-r)/r*100).format("0,0.00"),"%");return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:Y}),(0,i.jsx)("div",{children:D}),(0,i.jsx)("div",{children:"".concat(e," - ").concat(p)})]})},N=function(n){var a=n.seconds;a=Number(a);var r=Math.floor(a/(3600*24)),e=Math.floor(a%(3600*24)/3600),p=Math.floor(a%3600/60),D=Math.floor(a%60),Y=r>0?r+"d":"",F=e>0?e+"h":"",R=p>0?p+"m":"",E=D>0?D+"s":"";return"".concat(Y," ").concat(F," ").concat(R," ").concat(E)},j=function(n){var a=n.current,r=n.prev,e=n._startTime,p=n._endTime,D=a>r?a-r:r-a;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(N,{seconds:D})}),(0,i.jsx)("div",{children:"".concat(e," - ").concat(p)})]})},y=function(n){var a=n.current,r=n.prev,e=a>r?"up":"down",p=a>r?a-r:r-a;return(0,i.jsx)(b,{flag:e,style:{marginRight:16},children:(0,i.jsx)("span",{children:(0,i.jsx)(N,{seconds:p})})})}},4937:function(W,P,t){"use strict";t.d(P,{H:function(){return Z},l:function(){return L}});var M=t(30381),c=t.n(M),Z=function(d){var x=d.store,s=c()(d.range[0]).format("YYYY-MM-DD HH:mm:ss"),h=c()(d.range[1]).format("YYYY-MM-DD HH:mm:ss");if(d.compare==="lastDuration"){var u=c()(h).diff(s,"days"),o=c()(s,"YYYY-MM-DD HH:mm:ss").subtract(u+1,"days").format("YYYY-MM-DD HH:mm:ss"),l=c()(o,"YYYY-MM-DD HH:mm:ss").add(u,"days").format("YYYY-MM-DD 23:59:59");return{store:x,startTime:s,endTime:h,_startTime:o,_endTime:l}}if(d.compare==="lastYear"){var T=c()(s,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),O=c()(h,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),v=T.format("YYYY-MM-DD HH:mm:ss"),m=O.format("YYYY-MM-DD HH:mm:ss");return{store:x,startTime:s,endTime:h,_startTime:v,_endTime:m}}},L=function(d,x,s){var h=s===0?"":"\u20AC";if(x>0){var u=s===0?d-x:(d-x).toFixed(2),o=u/x*100;return{diff:u>0?"+".concat(u).concat(h):"".concat(u).concat(h),percentage:o>0?"+".concat(o.toFixed(2),"%"):"".concat(o.toFixed(2),"%")}}else{var l=s===0?d:d.toFixed(2),T="\u221E";return{diff:l>0?"+".concat(l).concat(h):"".concat(l).concat(h),percentage:"no previous records"}}}},84186:function(W,P,t){"use strict";t.d(P,{th:function(){return I},c2:function(){return V}});var M=t(92077),c=t.n(M),Z=t(11849),L=t(58024),S=t(39144),d=t(93224),x=t(32059),s=t(69610),h=t(54941),u=t(81306),o=t(19809),l=t(67294),T=t(94184),O=t.n(T),v=t(23230),m=t.n(v),f=t(85893),A=function(j){if(!j&&j!==0)return null;var y;switch(typeof j){case"undefined":y=null;break;case"function":y=(0,f.jsx)("div",{className:m().total,children:j()});break;default:y=(0,f.jsx)("div",{className:m().total,children:j})}return y},Q=function(N){(0,u.Z)(y,N);var j=(0,o.Z)(y);function y(){var g;(0,s.Z)(this,y);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return g=j.call.apply(j,[this].concat(a)),g.renderContent=function(){var e=g.props,p=e.contentHeight,D=e.title,Y=e.avatar,F=e.action,R=e.total,E=e.footer,C=e.children,B=e.loading;return B?!1:(0,f.jsxs)("div",{className:m().chartCard,children:[(0,f.jsxs)("div",{className:O()(m().chartTop,(0,x.Z)({},m().chartTopMargin,!C&&!E)),children:[(0,f.jsx)("div",{className:m().avatar,children:Y}),(0,f.jsxs)("div",{className:m().metaWrap,children:[(0,f.jsxs)("div",{className:m().meta,children:[(0,f.jsx)("span",{className:m().title,children:D}),(0,f.jsx)("span",{className:m().action,children:F})]}),A(R)]})]}),C&&(0,f.jsx)("div",{className:m().content,style:{height:p||"auto"},children:(0,f.jsx)("div",{className:p&&m().contentFixed,children:C})}),E&&(0,f.jsx)("div",{className:O()(m().footer,(0,x.Z)({},m().footerMargin,!C)),children:E})]})},g}return(0,h.Z)(y,[{key:"render",value:function(){var n=this.props,a=n.loading,r=a===void 0?!1:a,e=n.contentHeight,p=n.title,D=n.avatar,Y=n.action,F=n.total,R=n.footer,E=n.children,C=(0,d.Z)(n,["loading","contentHeight","title","avatar","action","total","footer","children"]);return(0,f.jsx)(S.Z,(0,Z.Z)((0,Z.Z)({loading:r,bodyStyle:{padding:"20px 24px 8px 24px"}},C),{},{children:this.renderContent()}))}}]),y}(l.Component),I=Q,i=t(16829),K=t.n(i),b=function(j){var y=j.label,g=j.value,n=(0,d.Z)(j,["label","value"]);return(0,f.jsxs)("div",(0,Z.Z)((0,Z.Z)({className:K().field},n),{},{children:[(0,f.jsx)("span",{className:K().label,children:y}),(0,f.jsx)("span",{className:K().number,children:g})]}))},w=b,V=function(j){return"".concat(c()(j).format("0,0.00")," \u20AC")},tt={yuan:V,ChartCard:I,Field:w}},21937:function(W,P,t){"use strict";t.d(P,{Z:function(){return s}});var M=t(69610),c=t(54941),Z=t(81306),L=t(19809),S=t(67294),d=t(84186),x=t(85893),s=function(h){(0,Z.Z)(o,h);var u=(0,L.Z)(o);function o(){var l;(0,M.Z)(this,o);for(var T=arguments.length,O=new Array(T),v=0;v<T;v++)O[v]=arguments[v];return l=u.call.apply(u,[this].concat(O)),l.main=null,l.renderToHtml=function(){var m=l.props.children;l.main&&(l.main.innerHTML=(0,d.c2)(m))},l}return(0,c.Z)(o,[{key:"componentDidMount",value:function(){this.renderToHtml()}},{key:"componentDidUpdate",value:function(){this.renderToHtml()}},{key:"render",value:function(){var T=this;return(0,x.jsx)("span",{ref:function(v){T.main=v}})}}]),o}(S.Component)},36592:function(W,P,t){"use strict";t.r(P),t.d(P,{default:function(){return F}});var M=t(58024),c=t(39144),Z=t(13254),L=t(14277),S=t(13062),d=t(71230),x=t(89032),s=t(15746),h=t(22385),u=t(69713),o=t(11849),l=t(2824),T=t(21010),O=t(21349),v=t(67294),m=t(3182),f=t(94043),A=t.n(f);function Q(){return I.apply(this,arguments)}function I(){return I=(0,m.Z)(A().mark(function R(){return A().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,T.WY)("/api/fake_analysis_chart_data"));case 1:case"end":return C.stop()}},R)})),I.apply(this,arguments)}function i(R,E,C,B,z,ot){return K.apply(this,arguments)}function K(){return K=(0,m.Z)(A().mark(function R(E,C,B,z,ot,st){return A().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,T.WY)("/api/getInventoryLossesData?startTime=".concat(E,"&endTime=").concat(C,"&_startTime=").concat(B,"&_endTime=").concat(z,"&store=").concat(ot,"&kind=").concat(st)));case 1:case"end":return U.stop()}},R)})),K.apply(this,arguments)}var b=t(30381),w=t.n(b),V=t(68628),tt=t(92077),N=t.n(tt),j=t(7110),y=t(84186),g=t(21937),n=t(93356),a=t(4937),r=t(85518),e=t(85893),p=r.tq?{marginTop:164}:{},D={xs:24,sm:8,md:8,lg:8,xl:8},Y=function(){var E=(0,T.tT)("@@initialState"),C=E.initialState,B=(0,T.QT)(Q),z=B.loading,ot=B.data,st=(0,v.useState)({current:0,prev:0}),lt=(0,l.Z)(st,2),U=lt[0],vt=lt[1],ft=(0,v.useState)({current:0,prev:0}),it=(0,l.Z)(ft,2),J=it[0],ht=it[1],pt=(0,v.useState)({current:0,prev:0}),ct=(0,l.Z)(pt,2),et=ct[0],xt=ct[1],gt=(0,v.useState)({current:0,prev:0}),dt=(0,l.Z)(gt,2),_=dt[0],Ct=dt[1],k={current:J.current+_.current,prev:J.prev+_.prev},q=(0,a.H)(C),nt=q.startTime,at=q.endTime,$=q._startTime,G=q._endTime,rt=q.store,Tt="".concat(w()($).format("YYYY/MM/DD")," ~ ").concat(w()(G).format("YYYY/MM/DD"));v.useEffect(function(){i(nt,at,$,G,rt,"totalRma").then(function(H){vt((0,o.Z)({},H))}),i(nt,at,$,G,rt,"lostRma").then(function(H){ht((0,o.Z)({},H))}),i(nt,at,$,G,rt,"totalLossesWithRma").then(function(H){xt((0,o.Z)({},H))}),i(nt,at,$,G,rt,"totalLossesWithoutRma").then(function(H){Ct((0,o.Z)({},H))})},[C]);var ut=(0,a.l)(parseFloat(et.current),parseFloat(et.prev),1),mt=(0,a.l)(parseFloat(_.current),parseFloat(_.prev),1);return(0,e.jsxs)(O.Z,{style:p,children:[(0,e.jsx)(d.Z,{gutter:24,children:(0,e.jsx)(s.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,e.jsx)(v.Suspense,{fallback:null,children:(0,e.jsxs)(d.Z,{gutter:[24,24],children:[(0,e.jsx)(s.Z,(0,o.Z)((0,o.Z)({},D),{},{children:(0,e.jsx)(y.th,{bordered:!1,title:"Total RMA Value",action:(0,e.jsx)(u.Z,{title:(0,e.jsx)(n.mO,{current:U.current,prev:U.prev,_startTime:$,_endTime:G}),children:(0,e.jsx)(V.Z,{})}),loading:z,total:function(){return(0,e.jsx)(g.Z,{children:U.current})},footer:(0,e.jsx)(n.eW,{current:U.current,prev:U.prev}),contentHeight:46})})),(0,e.jsx)(s.Z,(0,o.Z)((0,o.Z)({},D),{},{children:(0,e.jsx)(y.th,{bordered:!1,title:"Lost RMA Value",action:(0,e.jsx)(u.Z,{title:(0,e.jsx)(n.mO,{current:J.current,prev:J.prev,_startTime:$,_endTime:G}),children:(0,e.jsx)(V.Z,{})}),loading:z,total:function(){return(0,e.jsx)(g.Z,{children:J.current})},footer:(0,e.jsx)(n.eW,{current:J.current,prev:J.prev}),contentHeight:46})})),(0,e.jsx)(s.Z,(0,o.Z)((0,o.Z)({},D),{},{children:(0,e.jsx)(y.th,{bordered:!1,title:"Total Losses Value",action:(0,e.jsx)(u.Z,{title:(0,e.jsx)(n.mO,{current:k.current,prev:k.prev,_startTime:$,_endTime:G}),children:(0,e.jsx)(V.Z,{})}),loading:z,total:function(){return(0,e.jsx)(g.Z,{children:k.current})},footer:(0,e.jsx)(n.eW,{current:k.current,prev:k.prev}),contentHeight:46})}))]})})})}),(0,e.jsx)(d.Z,{gutter:24,style:{marginTop:20},children:(0,e.jsx)(s.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,e.jsx)(v.Suspense,{fallback:null,children:(0,e.jsx)(c.Z,{loading:z,bordered:!1,title:"Total losses with and without RMA assigned",style:{height:"100%"},children:et&&_?(0,e.jsx)(j.Z,{radius:.8,angleField:"y",colorField:"x",data:[{x:"With RMA assigned",y:et.current,a:ut.diff,b:ut.percentage},{x:"Without RMA assigned",y:_.current,a:mt.diff,b:mt.percentage}],label:{type:"outer",style:{fontSize:15},formatter:function(jt,X){return"".concat(N()(X._origin.y).format("0,0.00"),"\u20AC")}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function(jt,X){return X.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(X[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(X[0].data.y,"\u20AC")+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(Tt)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(X[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(X[0].data.b)+"</div>":""}}}):(0,e.jsx)(L.Z,{})})})})})]})},F=Y}}]);
