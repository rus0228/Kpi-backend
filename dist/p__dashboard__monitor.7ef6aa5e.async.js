(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[567],{7110:function(H,U,t){"use strict";var I=t(67294),c=t(81257),R=t(27199),E=t(30731),V=t(4874),f=function(o,u){var h={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&u.indexOf(l)<0&&(h[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,l=Object.getOwnPropertySymbols(o);y<l.length;y++)u.indexOf(l[y])<0&&Object.prototype.propertyIsEnumerable.call(o,l[y])&&(h[l[y]]=o[l[y]]);return h},x=(0,I.forwardRef)(function(o,u){var h=o.style,l=h===void 0?{height:"inherit"}:h,y=o.className,P=o.loading,L=o.loadingTemplate,z=o.errorTemplate,p=f(o,["style","className","loading","loadingTemplate","errorTemplate"]),d=(0,R.Z)(c.by,p),w=d.chart,b=d.container;return(0,I.useImperativeHandle)(u,function(){return{getChart:function(){return w.current}}}),I.createElement(E.Z,{errorTemplate:z},P&&I.createElement(V.Z,{loadingTemplate:L}),I.createElement("div",{className:y,style:l,ref:b}))});U.Z=x},23230:function(H){H.exports={chartCard:"chartCard___3TM4T",chartTop:"chartTop___3iur-",chartTopMargin:"chartTopMargin___24rCR",chartTopHasMargin:"chartTopHasMargin___3AQNY",metaWrap:"metaWrap___3Nuv1",avatar:"avatar___FoC4K",meta:"meta___1_3lt",action:"action___3uuUN",total:"total___D6PP7",content:"content___yyFJS",contentFixed:"contentFixed___3tZUw",footer:"footer___2Huhb",footerMargin:"footerMargin___38Y2F"}},16829:function(H){H.exports={field:"field___2ZfpN",label:"label___1hOvq",number:"number___2qklC"}},74450:function(H){H.exports={trendItem:"trendItem___2dudO",up:"up___1wFiw",down:"down___2tA2-",trendItemGrey:"trendItemGrey___1ksIM",reverseColor:"reverseColor___1BPCV"}},19134:function(H){H.exports={iconGroup:"iconGroup___39zI_",anticon:"anticon___2OhUl",rankingList:"rankingList___k3MzH",rankingItemNumber:"rankingItemNumber___l28cl",active:"active___1cliI",rankingItemTitle:"rankingItemTitle___eU-Xh",salesExtra:"salesExtra___1vmT2",currentDate:"currentDate___3Q9T-",salesCard:"salesCard___24ehk",salesBar:"salesBar___KJI0x",salesRank:"salesRank___eheLP",salesCardExtra:"salesCardExtra___3CAEy",salesTypeRadio:"salesTypeRadio___3jLFd",offlineCard:"offlineCard___uw_bl",trendText:"trendText___2stCa",rankingTitle:"rankingTitle___2lZ0e",salesExtraWrap:"salesExtraWrap___1rWNI"}},93356:function(H,U,t){"use strict";t.d(U,{eW:function(){return tt},X6:function(){return D},mO:function(){return B},mj:function(){return n},Kz:function(){return W},qp:function(){return j}});var I=t(92077),c=t.n(I),R=t(11849),E=t(32059),V=t(93224),f=t(28991),x=t(67294),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},u=o,h=t(27029),l=function(r,a){return x.createElement(h.Z,(0,f.Z)((0,f.Z)({},r),{},{ref:a,icon:u}))};l.displayName="CaretUpOutlined";var y=x.forwardRef(l),P={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},L=P,z=function(r,a){return x.createElement(h.Z,(0,f.Z)((0,f.Z)({},r),{},{ref:a,icon:L}))};z.displayName="CaretDownOutlined";var p=x.forwardRef(z),d=t(94184),w=t.n(d),b=t(74450),k=t.n(b),i=t(85893),q=function(r){var a,e=r.colorful,g=e===void 0?!0:e,C=r.reverseColor,N=C===void 0?!1:C,O=r.flag,T=r.children,v=r.className,m=(0,V.Z)(r,["colorful","reverseColor","flag","children","className"]),M=w()(k().trendItem,(a={},(0,E.Z)(a,k().trendItemGrey,!g),(0,E.Z)(a,k().reverseColor,N&&g),a),v),S={color:"green",fontSize:17},Q={color:"red",fontSize:17};return(0,i.jsxs)("div",(0,R.Z)((0,R.Z)({},m),{},{className:M,title:typeof T=="string"?T:"",children:[(0,i.jsx)("span",{children:T}),O&&(0,i.jsx)("span",{style:O==="up"?S:Q,children:O==="up"?(0,i.jsx)(y,{}):(0,i.jsx)(p,{})})]}))},J=q,_=t(30381),A=t.n(_),tt=function(r){var a=r.current,e=r.prev,g=a>e||e===null?"up":"down",C=a>e?"+".concat(c()((a-e)/e*100).format("0,0.00"),"%"):"".concat(c()((a-e)/e*100).format("0,0.00"),"%");return(0,i.jsx)(J,{flag:g,style:{marginRight:16},children:(0,i.jsx)("span",{style:{paddingRight:10},children:e!==null&&a!==null?C:"Empty previous or current value"})})},B=function(r){var a=r.current,e=r.prev,g=r._startTime,C=r._endTime,N=a>e?"+".concat(c()(a-e).format("0,0.00"),"\u20AC"):"".concat(c()(a-e).format("0,0.00"),"\u20AC"),O=a>e?"+".concat(c()((a-e)/e*100).format("0,0.00"),"%"):"".concat(c()((a-e)/e*100).format("0,0.00"),"%");return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:e!==null&&a!==null?O:"Empty previous or current value"}),(0,i.jsx)("div",{children:N}),(0,i.jsx)("div",{children:"".concat(A()(g).format("YYYY/MM/DD")," - ").concat(A()(C).format("YYYY/MM/DD"))})]})},n=function(r){var a=r.current,e=r.prev,g=r._startTime,C=r._endTime,N=a>e?"+".concat(c()(a-e).format("0,0")):"".concat(c()(a-e).format("0,0")),O=a>e?"+".concat(c()((a-e)/e*100).format("0,0.00"),"%"):"".concat(c()((a-e)/e*100).format("0,0.00"),"%");return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:O}),(0,i.jsx)("div",{children:N}),(0,i.jsx)("div",{children:"".concat(A()(g).format("YYYY/MM/DD")," - ").concat(A()(C).format("YYYY/MM/DD"))})]})},j=function(r){var a=r.seconds;a=Number(a);var e=Math.floor(a/(3600*24)),g=Math.floor(a%(3600*24)/3600),C=Math.floor(a%3600/60),N=Math.floor(a%60),O=e>0?e+"d":"",T=g>0?g+"h":"",v=C>0?C+"m":"",m=N>0?N+"s":"";return"".concat(O," ").concat(T," ").concat(v," ").concat(m)},W=function(r){var a=r.current,e=r.prev,g=r._startTime,C=r._endTime,N=a>e?a-e:e-a;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(j,{seconds:N})}),(0,i.jsx)("div",{children:"".concat(A()(g).format("YYYY/MM/DD")," - ").concat(A()(C).format("YYYY/MM/DD"))})]})},D=function(r){var a=r.current,e=r.prev,g=a>e?"up":"down",C=a>e?a-e:e-a;return(0,i.jsx)(J,{flag:g,style:{marginRight:16},children:(0,i.jsx)("span",{children:(0,i.jsx)(j,{seconds:C})})})}},4937:function(H,U,t){"use strict";t.d(U,{H:function(){return R},l:function(){return E}});var I=t(30381),c=t.n(I),R=function(f){var x=f.store,o=c()(f.range[0]).format("YYYY-MM-DD HH:mm:ss"),u=c()(f.range[1]).format("YYYY-MM-DD HH:mm:ss");if(f.compare==="lastDuration"){var h=c()(u).diff(o,"days"),l=c()(o,"YYYY-MM-DD HH:mm:ss").subtract(h+1,"days").format("YYYY-MM-DD HH:mm:ss"),y=c()(l,"YYYY-MM-DD HH:mm:ss").add(h,"days").format("YYYY-MM-DD 23:59:59");return{store:x,startTime:o,endTime:u,_startTime:l,_endTime:y}}if(f.compare==="lastYear"){var P=c()(o,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),L=c()(u,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),z=P.format("YYYY-MM-DD HH:mm:ss"),p=L.format("YYYY-MM-DD HH:mm:ss");return{store:x,startTime:o,endTime:u,_startTime:z,_endTime:p}}},E=function(f,x,o){var u=o===0?"":"\u20AC";if(x>0){var h=o===0?f-x:(f-x).toFixed(2),l=h/x*100;return{diff:h>0?"+".concat(h).concat(u):"".concat(h).concat(u),percentage:l>0?"+".concat(l.toFixed(2),"%"):"".concat(l.toFixed(2),"%")}}else{var y=o===0?f:f.toFixed(2),P="\u221E";return{diff:y>0?"+".concat(y).concat(u):"".concat(y).concat(u),percentage:"no previous records"}}}},84186:function(H,U,t){"use strict";t.d(U,{th:function(){return k},c2:function(){return A}});var I=t(92077),c=t.n(I),R=t(11849),E=t(58024),V=t(39144),f=t(93224),x=t(32059),o=t(69610),u=t(54941),h=t(81306),l=t(19809),y=t(67294),P=t(94184),L=t.n(P),z=t(23230),p=t.n(z),d=t(85893),w=function(n){if(!n&&n!==0)return null;var j;switch(typeof n){case"undefined":j=null;break;case"function":j=(0,d.jsx)("div",{className:p().total,children:n()});break;default:j=(0,d.jsx)("div",{className:p().total,children:n})}return j},b=function(B){(0,h.Z)(j,B);var n=(0,l.Z)(j);function j(){var W;(0,o.Z)(this,j);for(var D=arguments.length,Y=new Array(D),r=0;r<D;r++)Y[r]=arguments[r];return W=n.call.apply(n,[this].concat(Y)),W.renderContent=function(){var a=W.props,e=a.contentHeight,g=a.title,C=a.avatar,N=a.action,O=a.total,T=a.footer,v=a.children,m=a.loading;return m?!1:(0,d.jsxs)("div",{className:p().chartCard,children:[(0,d.jsxs)("div",{className:L()(p().chartTop,(0,x.Z)({},p().chartTopMargin,!v&&!T)),children:[(0,d.jsx)("div",{className:p().avatar,children:C}),(0,d.jsxs)("div",{className:p().metaWrap,children:[(0,d.jsxs)("div",{className:p().meta,children:[(0,d.jsx)("span",{className:p().title,children:g}),(0,d.jsx)("span",{className:p().action,children:N})]}),w(O)]})]}),v&&(0,d.jsx)("div",{className:p().content,style:{height:e||"auto"},children:(0,d.jsx)("div",{className:e&&p().contentFixed,children:v})}),T&&(0,d.jsx)("div",{className:L()(p().footer,(0,x.Z)({},p().footerMargin,!v)),children:T})]})},W}return(0,u.Z)(j,[{key:"render",value:function(){var D=this.props,Y=D.loading,r=Y===void 0?!1:Y,a=D.contentHeight,e=D.title,g=D.avatar,C=D.action,N=D.total,O=D.footer,T=D.children,v=(0,f.Z)(D,["loading","contentHeight","title","avatar","action","total","footer","children"]);return(0,d.jsx)(V.Z,(0,R.Z)((0,R.Z)({loading:r,bodyStyle:{padding:"20px 24px 8px 24px"}},v),{},{children:this.renderContent()}))}}]),j}(y.Component),k=b,i=t(16829),q=t.n(i),J=function(n){var j=n.label,W=n.value,D=(0,f.Z)(n,["label","value"]);return(0,d.jsxs)("div",(0,R.Z)((0,R.Z)({className:q().field},D),{},{children:[(0,d.jsx)("span",{className:q().label,children:j}),(0,d.jsx)("span",{className:q().number,children:W})]}))},_=J,A=function(n){return"".concat(c()(n).format("0,0.00")," \u20AC")},tt={yuan:A,ChartCard:k,Field:_}},9838:function(H,U,t){"use strict";t.r(U),t.d(U,{default:function(){return O}});var I=t(13062),c=t(71230),R=t(89032),E=t(15746),V=t(22385),f=t(69713),x=t(2824),o=t(67294),u=t(21010),h=t(21349),l=t(3182),y=t(94043),P=t.n(y);function L(){return z.apply(this,arguments)}function z(){return z=(0,l.Z)(P().mark(function T(){return P().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,u.WY)("/api/fake_analysis_chart_data"));case 1:case"end":return m.stop()}},T)})),z.apply(this,arguments)}function p(T,v,m,M,S){return d.apply(this,arguments)}function d(){return d=(0,l.Z)(P().mark(function T(v,m,M,S,Q){return P().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,u.WY)("/api/getNumberOfNewProducts?startTime=".concat(v,"&endTime=").concat(m,"&_startTime=").concat(M,"&_endTime=").concat(S,"&store=").concat(Q)));case 1:case"end":return F.stop()}},T)})),d.apply(this,arguments)}function w(T,v,m,M,S){return b.apply(this,arguments)}function b(){return b=(0,l.Z)(P().mark(function T(v,m,M,S,Q){return P().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,u.WY)("/api/getBestSellingProductsData?startTime=".concat(v,"&endTime=").concat(m,"&_startTime=").concat(M,"&_endTime=").concat(S,"&store=").concat(Q)));case 1:case"end":return F.stop()}},T)})),b.apply(this,arguments)}var k=t(58024),i=t(39144),q=t(92077),J=t.n(q),_=t(7110),A=t(19134),tt=t.n(A),B=t(4937),n=t(85893),j=function(v){var m=v.loading,M=v.bestSellingData,S=v.time,Q=o.useMemo(function(){var K=[],$=[],s=[];return M.length>0&&(M[0].map(function(Z){var G=(0,B.l)(parseFloat(Z.cur_pQty),parseFloat(Z.prev_pQty),0);K.push({x:Z.cur_pName,y:parseFloat(Z.cur_pQty),a:G.diff,b:G.percentage})}),M[1].map(function(Z){var G=(0,B.l)(parseFloat(Z.cur_pRevenue),parseFloat(Z.prev_pRevenue),1);$.push({x:Z.cur_pName,y:parseFloat(Z.cur_pRevenue),a:G.diff,b:G.percentage})}),M[2].map(function(Z){var G=(0,B.l)(parseFloat(Z.cur_pProfit),parseFloat(Z.prev_pProfit),1);s.push({x:Z.cur_pName,y:parseFloat(Z.cur_pProfit),a:G.diff,b:G.percentage})})),{topQuantityData:K,topRevenueData:$,topProfitData:s}},[M]),at=Q.topQuantityData,F=Q.topRevenueData,X=Q.topProfitData;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.Z,{gutter:[24,24],children:[(0,n.jsx)(E.Z,{span:24,children:(0,n.jsx)(i.Z,{loading:m,className:tt().salesCard,bordered:!1,title:"Best Selling Products(Quantity)",type:"flex",style:{alignItems:"center"},children:(0,n.jsx)(_.Z,{radius:.8,angleField:"y",colorField:"x",data:at,label:{type:"outer",style:{fontSize:15},formatter:function($,s){return"".concat(J()(s._origin.y).format("0,0"))}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function($,s){return s.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.y)+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(S)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.b)+"</div>":""}}})})}),(0,n.jsx)(E.Z,{span:24,children:(0,n.jsx)(i.Z,{loading:m,className:tt().salesCard,bordered:!1,title:"Best Selling Products(Value)",children:(0,n.jsx)(_.Z,{radius:.8,angleField:"y",colorField:"x",data:F,label:{type:"outer",style:{fontSize:15},formatter:function($,s){return"".concat(J()(s._origin.y).format("0,0.00"),"\u20AC")}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function($,s){return s.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.y,"\u20AC")+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(S)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.b)+"</div>":""}}})})}),(0,n.jsx)(E.Z,{span:24,children:(0,n.jsx)(i.Z,{loading:m,className:tt().salesCard,bordered:!1,title:"Most Profitable Products(Value)",children:(0,n.jsx)(_.Z,{radius:.8,angleField:"y",colorField:"x",data:X,label:{type:"outer",style:{fontSize:15},formatter:function($,s){return"".concat(J()(s._origin.y).format("0,0.00"),"\u20AC")}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function($,s){return s.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.y,"\u20AC")+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(S)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.b)+"</div>":""}}})})})]})})},W=j,D=t(93356),Y=t(68628),r=t(84186),a=t(85518),e=t(30381),g=t.n(e),C=a.tq?{marginTop:164}:{},N=function(){var v=(0,u.tT)("@@initialState"),m=v.initialState,M=(0,u.QT)(L),S=M.loading,Q=M.data,at=(0,o.useState)([]),F=(0,x.Z)(at,2),X=F[0],K=F[1],$=(0,o.useState)([]),s=(0,x.Z)($,2),Z=s[0],G=s[1],et=(0,B.H)(m),st=et.startTime,lt=et.endTime,rt=et._startTime,ot=et._endTime,it=et.store;return o.useEffect(function(){w(st,lt,rt,ot,it).then(function(nt){G(nt)}),p(st,lt,rt,ot,it).then(function(nt){console.log(nt),K(nt)})},[m]),(0,n.jsx)(h.Z,{style:C,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{gutter:24,style:{marginBottom:24},children:(0,n.jsx)(E.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,n.jsx)(o.Suspense,{fallback:null,children:Object.keys(X).length>0?(0,n.jsx)(r.th,{bordered:!1,title:"Number of New Products",action:(0,n.jsx)(f.Z,{title:(0,n.jsx)(D.mj,{current:X.current.count,prev:X.prev.count,_startTime:rt,_endTime:ot}),children:(0,n.jsx)(Y.Z,{})}),loading:S,total:function(){return(0,n.jsx)("div",{children:X.current.count})},footer:(0,n.jsx)(D.eW,{current:X.current.count,prev:X.prev.count}),contentHeight:46}):(0,n.jsx)("div",{})})})}),(0,n.jsx)(c.Z,{gutter:24,children:(0,n.jsx)(E.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,n.jsx)(o.Suspense,{fallback:null,children:(0,n.jsx)(W,{loading:S,bestSellingData:Z,time:"".concat(g()(rt).format("YYYY/MM/DD")," ~ ").concat(g()(ot).format("YYYY/MM/DD"))})})})})]})})},O=N}}]);
