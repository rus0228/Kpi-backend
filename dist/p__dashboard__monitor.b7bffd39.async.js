(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[567],{7110:function(E,A,t){"use strict";var H=t(67294),d=t(81257),I=t(27199),S=t(30731),$=t(4874),m=function(o,v){var p={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&v.indexOf(l)<0&&(p[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,l=Object.getOwnPropertySymbols(o);C<l.length;C++)v.indexOf(l[C])<0&&Object.prototype.propertyIsEnumerable.call(o,l[C])&&(p[l[C]]=o[l[C]]);return p},y=(0,H.forwardRef)(function(o,v){var p=o.style,l=p===void 0?{height:"inherit"}:p,C=o.className,P=o.loading,B=o.loadingTemplate,R=o.errorTemplate,f=m(o,["style","className","loading","loadingTemplate","errorTemplate"]),u=(0,I.Z)(d.by,f),X=u.chart,K=u.container;return(0,H.useImperativeHandle)(v,function(){return{getChart:function(){return X.current}}}),H.createElement(S.Z,{errorTemplate:R},P&&H.createElement($.Z,{loadingTemplate:B}),H.createElement("div",{className:C,style:l,ref:K}))});A.Z=y},23230:function(E){E.exports={chartCard:"chartCard___3TM4T",chartTop:"chartTop___3iur-",chartTopMargin:"chartTopMargin___24rCR",chartTopHasMargin:"chartTopHasMargin___3AQNY",metaWrap:"metaWrap___3Nuv1",avatar:"avatar___FoC4K",meta:"meta___1_3lt",action:"action___3uuUN",total:"total___D6PP7",content:"content___yyFJS",contentFixed:"contentFixed___3tZUw",footer:"footer___2Huhb",footerMargin:"footerMargin___38Y2F"}},16829:function(E){E.exports={field:"field___2ZfpN",label:"label___1hOvq",number:"number___2qklC"}},74450:function(E){E.exports={trendItem:"trendItem___2dudO",up:"up___1wFiw",down:"down___2tA2-",trendItemGrey:"trendItemGrey___1ksIM",reverseColor:"reverseColor___1BPCV"}},19134:function(E){E.exports={iconGroup:"iconGroup___39zI_",anticon:"anticon___2OhUl",rankingList:"rankingList___k3MzH",rankingItemNumber:"rankingItemNumber___l28cl",active:"active___1cliI",rankingItemTitle:"rankingItemTitle___eU-Xh",salesExtra:"salesExtra___1vmT2",currentDate:"currentDate___3Q9T-",salesCard:"salesCard___24ehk",salesBar:"salesBar___KJI0x",salesRank:"salesRank___eheLP",salesCardExtra:"salesCardExtra___3CAEy",salesTypeRadio:"salesTypeRadio___3jLFd",offlineCard:"offlineCard___uw_bl",trendText:"trendText___2stCa",rankingTitle:"rankingTitle___2lZ0e",salesExtraWrap:"salesExtraWrap___1rWNI"}},93356:function(E,A,t){"use strict";t.d(A,{eW:function(){return q},X6:function(){return D},mO:function(){return _},mj:function(){return tt},Kz:function(){return r},qp:function(){return F}});var H=t(92077),d=t.n(H),I=t(11849),S=t(32059),$=t(93224),m=t(28991),y=t(67294),o={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},v=o,p=t(27029),l=function(a,e){return y.createElement(p.Z,(0,m.Z)((0,m.Z)({},a),{},{ref:e,icon:v}))};l.displayName="CaretUpOutlined";var C=y.forwardRef(l),P={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},B=P,R=function(a,e){return y.createElement(p.Z,(0,m.Z)((0,m.Z)({},a),{},{ref:e,icon:B}))};R.displayName="CaretDownOutlined";var f=y.forwardRef(R),u=t(94184),X=t.n(u),K=t(74450),w=t.n(K),i=t(85893),k=function(a){var e,n=a.colorful,c=n===void 0?!0:n,h=a.reverseColor,M=h===void 0?!1:h,N=a.flag,W=a.children,b=a.className,j=(0,$.Z)(a,["colorful","reverseColor","flag","children","className"]),g=X()(w().trendItem,(e={},(0,S.Z)(e,w().trendItemGrey,!c),(0,S.Z)(e,w().reverseColor,M&&c),e),b),x={color:"green",fontSize:17},Y={color:"red",fontSize:17};return(0,i.jsxs)("div",(0,I.Z)((0,I.Z)({},j),{},{className:g,title:typeof W=="string"?W:"",children:[(0,i.jsx)("span",{children:W}),N&&(0,i.jsx)("span",{style:N==="up"?x:Y,children:N==="up"?(0,i.jsx)(C,{}):(0,i.jsx)(f,{})})]}))},G=k,q=function(a){var e=a.current,n=a.prev,c=e>n?"up":"down",h=e>n?"+".concat(d()((e-n)/n*100).format("0,0.00"),"%"):"".concat(d()((e-n)/n*100).format("0,0.00"),"%");return(0,i.jsx)(G,{flag:c,style:{marginRight:16},children:(0,i.jsx)("span",{children:h})})},_=function(a){var e=a.current,n=a.prev,c=a._startTime,h=a._endTime,M=e>n?"+".concat(d()(e-n).format("0,0.00"),"\u20AC"):"".concat(d()(e-n).format("0,0.00"),"\u20AC"),N=e>n?"+".concat(d()((e-n)/n*100).format("0,0.00"),"%"):"".concat(d()((e-n)/n*100).format("0,0.00"),"%");return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:N}),(0,i.jsx)("div",{children:M}),(0,i.jsx)("div",{children:"".concat(c," - ").concat(h)})]})},tt=function(a){var e=a.current,n=a.prev,c=a._startTime,h=a._endTime,M=e>n?"+".concat(d()(e-n).format("0,0")):"".concat(d()(e-n).format("0,0")),N=e>n?"+".concat(d()((e-n)/n*100).format("0,0.00"),"%"):"".concat(d()((e-n)/n*100).format("0,0.00"),"%");return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:N}),(0,i.jsx)("div",{children:M}),(0,i.jsx)("div",{children:"".concat(c," - ").concat(h)})]})},F=function(a){var e=a.seconds;e=Number(e);var n=Math.floor(e/(3600*24)),c=Math.floor(e%(3600*24)/3600),h=Math.floor(e%3600/60),M=Math.floor(e%60),N=n>0?n+"d":"",W=c>0?c+"h":"",b=h>0?h+"m":"",j=M>0?M+"s":"";return"".concat(N," ").concat(W," ").concat(b," ").concat(j)},r=function(a){var e=a.current,n=a.prev,c=a._startTime,h=a._endTime,M=e>n?e-n:n-e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)(F,{seconds:M})}),(0,i.jsx)("div",{children:"".concat(c," - ").concat(h)})]})},D=function(a){var e=a.current,n=a.prev,c=e>n?"up":"down",h=e>n?e-n:n-e;return(0,i.jsx)(G,{flag:c,style:{marginRight:16},children:(0,i.jsx)("span",{children:(0,i.jsx)(F,{seconds:h})})})}},4937:function(E,A,t){"use strict";t.d(A,{H:function(){return I},l:function(){return S}});var H=t(30381),d=t.n(H),I=function(m){var y=m.store,o=d()(m.range[0]).format("YYYY-MM-DD HH:mm:ss"),v=d()(m.range[1]).format("YYYY-MM-DD HH:mm:ss");if(m.compare==="lastDuration"){var p=d()(v).diff(o,"days"),l=d()(o,"YYYY-MM-DD HH:mm:ss").subtract(p+1,"days").format("YYYY-MM-DD HH:mm:ss"),C=d()(l,"YYYY-MM-DD HH:mm:ss").add(p,"days").format("YYYY-MM-DD 23:59:59");return{store:y,startTime:o,endTime:v,_startTime:l,_endTime:C}}if(m.compare==="lastYear"){var P=d()(o,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),B=d()(v,"YYYY-MM-DD HH:mm:ss").subtract(1,"year"),R=P.format("YYYY-MM-DD HH:mm:ss"),f=B.format("YYYY-MM-DD HH:mm:ss");return{store:y,startTime:o,endTime:v,_startTime:R,_endTime:f}}},S=function(m,y,o){var v=o===0?"":"\u20AC";if(y>0){var p=o===0?m-y:(m-y).toFixed(2),l=p/y*100;return{diff:p>0?"+".concat(p).concat(v):"".concat(p).concat(v),percentage:l>0?"+".concat(l.toFixed(2),"%"):"".concat(l.toFixed(2),"%")}}else{var C=o===0?m:m.toFixed(2),P="\u221E";return{diff:C>0?"+".concat(C).concat(v):"".concat(C).concat(v),percentage:"no previous records"}}}},84186:function(E,A,t){"use strict";t.d(A,{th:function(){return w},c2:function(){return _}});var H=t(92077),d=t.n(H),I=t(11849),S=t(58024),$=t(39144),m=t(93224),y=t(32059),o=t(69610),v=t(54941),p=t(81306),l=t(19809),C=t(67294),P=t(94184),B=t.n(P),R=t(23230),f=t.n(R),u=t(85893),X=function(r){if(!r&&r!==0)return null;var D;switch(typeof r){case"undefined":D=null;break;case"function":D=(0,u.jsx)("div",{className:f().total,children:r()});break;default:D=(0,u.jsx)("div",{className:f().total,children:r})}return D},K=function(F){(0,p.Z)(D,F);var r=(0,l.Z)(D);function D(){var T;(0,o.Z)(this,D);for(var a=arguments.length,e=new Array(a),n=0;n<a;n++)e[n]=arguments[n];return T=r.call.apply(r,[this].concat(e)),T.renderContent=function(){var c=T.props,h=c.contentHeight,M=c.title,N=c.avatar,W=c.action,b=c.total,j=c.footer,g=c.children,x=c.loading;return x?!1:(0,u.jsxs)("div",{className:f().chartCard,children:[(0,u.jsxs)("div",{className:B()(f().chartTop,(0,y.Z)({},f().chartTopMargin,!g&&!j)),children:[(0,u.jsx)("div",{className:f().avatar,children:N}),(0,u.jsxs)("div",{className:f().metaWrap,children:[(0,u.jsxs)("div",{className:f().meta,children:[(0,u.jsx)("span",{className:f().title,children:M}),(0,u.jsx)("span",{className:f().action,children:W})]}),X(b)]})]}),g&&(0,u.jsx)("div",{className:f().content,style:{height:h||"auto"},children:(0,u.jsx)("div",{className:h&&f().contentFixed,children:g})}),j&&(0,u.jsx)("div",{className:B()(f().footer,(0,y.Z)({},f().footerMargin,!g)),children:j})]})},T}return(0,v.Z)(D,[{key:"render",value:function(){var a=this.props,e=a.loading,n=e===void 0?!1:e,c=a.contentHeight,h=a.title,M=a.avatar,N=a.action,W=a.total,b=a.footer,j=a.children,g=(0,m.Z)(a,["loading","contentHeight","title","avatar","action","total","footer","children"]);return(0,u.jsx)($.Z,(0,I.Z)((0,I.Z)({loading:n,bodyStyle:{padding:"20px 24px 8px 24px"}},g),{},{children:this.renderContent()}))}}]),D}(C.Component),w=K,i=t(16829),k=t.n(i),G=function(r){var D=r.label,T=r.value,a=(0,m.Z)(r,["label","value"]);return(0,u.jsxs)("div",(0,I.Z)((0,I.Z)({className:k().field},a),{},{children:[(0,u.jsx)("span",{className:k().label,children:D}),(0,u.jsx)("span",{className:k().number,children:T})]}))},q=G,_=function(r){return"".concat(d()(r).format("0,0.00")," \u20AC")},tt={yuan:_,ChartCard:w,Field:q}},9838:function(E,A,t){"use strict";t.r(A),t.d(A,{default:function(){return b}});var H=t(13062),d=t(71230),I=t(89032),S=t(15746),$=t(22385),m=t(69713),y=t(2824),o=t(67294),v=t(21010),p=t(21349),l=t(3182),C=t(94043),P=t.n(C);function B(){return R.apply(this,arguments)}function R(){return R=(0,l.Z)(P().mark(function j(){return P().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,v.WY)("/api/fake_analysis_chart_data"));case 1:case"end":return x.stop()}},j)})),R.apply(this,arguments)}function f(j,g,x,Y,z){return u.apply(this,arguments)}function u(){return u=(0,l.Z)(P().mark(function j(g,x,Y,z,V){return P().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,v.WY)("/api/getNumberOfNewProducts?startTime=".concat(g,"&endTime=").concat(x,"&_startTime=").concat(Y,"&_endTime=").concat(z,"&store=").concat(V)));case 1:case"end":return O.stop()}},j)})),u.apply(this,arguments)}function X(j,g,x,Y,z){return K.apply(this,arguments)}function K(){return K=(0,l.Z)(P().mark(function j(g,x,Y,z,V){return P().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,v.WY)("/api/getBestSellingProductsData?startTime=".concat(g,"&endTime=").concat(x,"&_startTime=").concat(Y,"&_endTime=").concat(z,"&store=").concat(V)));case 1:case"end":return O.stop()}},j)})),K.apply(this,arguments)}var w=t(58024),i=t(39144),k=t(92077),G=t.n(k),q=t(7110),_=t(19134),tt=t.n(_),F=t(4937),r=t(85893),D=function(g){var x=g.loading,Y=g.bestSellingData,z=g.time,V=o.useMemo(function(){var U=[],L=[],s=[];return Y.length>0&&(Y[0].map(function(Z){var Q=(0,F.l)(parseFloat(Z.cur_pQty),parseFloat(Z.prev_pQty),0);U.push({x:Z.cur_pName,y:parseFloat(Z.cur_pQty),a:Q.diff,b:Q.percentage})}),Y[1].map(function(Z){var Q=(0,F.l)(parseFloat(Z.cur_pRevenue),parseFloat(Z.prev_pRevenue),1);L.push({x:Z.cur_pName,y:parseFloat(Z.cur_pRevenue),a:Q.diff,b:Q.percentage})}),Y[2].map(function(Z){var Q=(0,F.l)(parseFloat(Z.cur_pProfit),parseFloat(Z.prev_pProfit),1);s.push({x:Z.cur_pName,y:parseFloat(Z.cur_pProfit),a:Q.diff,b:Q.percentage})})),{topQuantityData:U,topRevenueData:L,topProfitData:s}},[Y]),at=V.topQuantityData,O=V.topRevenueData,J=V.topProfitData;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(d.Z,{gutter:[24,24],children:[(0,r.jsx)(S.Z,{span:24,children:(0,r.jsx)(i.Z,{loading:x,className:tt().salesCard,bordered:!1,title:"Best Selling Products(Quantity)",type:"flex",style:{alignItems:"center"},children:(0,r.jsx)(q.Z,{radius:.8,angleField:"y",colorField:"x",data:at,label:{type:"outer",style:{fontSize:15},formatter:function(L,s){return"".concat(G()(s._origin.y).format("0,0"))}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function(L,s){return s.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.y)+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(z)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.b)+"</div>":""}}})})}),(0,r.jsx)(S.Z,{span:24,children:(0,r.jsx)(i.Z,{loading:x,className:tt().salesCard,bordered:!1,title:"Best Selling Products(Value)",children:(0,r.jsx)(q.Z,{radius:.8,angleField:"y",colorField:"x",data:O,label:{type:"outer",style:{fontSize:15},formatter:function(L,s){return"".concat(G()(s._origin.y).format("0,0.00"),"\u20AC")}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function(L,s){return s.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.y,"\u20AC")+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(z)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.b)+"</div>":""}}})})}),(0,r.jsx)(S.Z,{span:24,children:(0,r.jsx)(i.Z,{loading:x,className:tt().salesCard,bordered:!1,title:"Most Profitable Products(Value)",children:(0,r.jsx)(q.Z,{radius:.8,angleField:"y",colorField:"x",data:J,label:{type:"outer",style:{fontSize:15},formatter:function(L,s){return"".concat(G()(s._origin.y).format("0,0.00"),"\u20AC")}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function(L,s){return s.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.y,"\u20AC")+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(z)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(s[0].data.b)+"</div>":""}}})})})]})})},T=D,a=t(93356),e=t(68628),n=t(84186),c=t(85518),h=t(30381),M=t.n(h),N=c.tq?{marginTop:164}:{},W=function(){var g=(0,v.tT)("@@initialState"),x=g.initialState,Y=(0,v.QT)(B),z=Y.loading,V=Y.data,at=(0,o.useState)([]),O=(0,y.Z)(at,2),J=O[0],U=O[1],L=(0,o.useState)([]),s=(0,y.Z)(L,2),Z=s[0],Q=s[1],et=(0,F.H)(x),st=et.startTime,lt=et.endTime,rt=et._startTime,ot=et._endTime,it=et.store;return o.useEffect(function(){X(st,lt,rt,ot,it).then(function(nt){Q(nt)}),f(st,lt,rt,ot,it).then(function(nt){console.log(nt),U(nt)})},[x]),(0,r.jsx)(p.Z,{style:N,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{gutter:24,style:{marginBottom:24},children:(0,r.jsx)(S.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,r.jsx)(o.Suspense,{fallback:null,children:Object.keys(J).length>0?(0,r.jsx)(n.th,{bordered:!1,title:"Number of New Products",action:(0,r.jsx)(m.Z,{title:(0,r.jsx)(a.mj,{current:J.current.count,prev:J.prev.count,_startTime:rt,_endTime:ot}),children:(0,r.jsx)(e.Z,{})}),loading:z,total:function(){return(0,r.jsx)("div",{children:J.current.count})},footer:(0,r.jsx)(a.eW,{current:J.current.count,prev:J.prev.count}),contentHeight:46}):(0,r.jsx)("div",{})})})}),(0,r.jsx)(d.Z,{gutter:24,children:(0,r.jsx)(S.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,r.jsx)(o.Suspense,{fallback:null,children:(0,r.jsx)(T,{loading:z,bestSellingData:Z,time:"".concat(M()(rt).format("YYYY/MM/DD")," ~ ").concat(M()(ot).format("YYYY/MM/DD"))})})})})]})})},b=W}}]);
