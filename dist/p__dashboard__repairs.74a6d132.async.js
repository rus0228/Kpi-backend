(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[390],{7110:function(U,Y,t){"use strict";var D=t(67294),W=t(2792),ae=t(27199),F=t(30731),re=t(4874),C=function(n,O){var d={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&O.indexOf(a)<0&&(d[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,a=Object.getOwnPropertySymbols(n);v<a.length;v++)O.indexOf(a[v])<0&&Object.prototype.propertyIsEnumerable.call(n,a[v])&&(d[a[v]]=n[a[v]]);return d},ne=(0,D.forwardRef)(function(n,O){var d=n.style,a=d===void 0?{height:"inherit"}:d,v=n.className,j=n.loading,H=n.loadingTemplate,y=n.errorTemplate,L=C(n,["style","className","loading","loadingTemplate","errorTemplate"]),S=(0,ae.Z)(W.by,L),z=S.chart,N=S.container;return(0,D.useImperativeHandle)(O,function(){return{getChart:function(){return z.current}}}),D.createElement(F.Z,{errorTemplate:y},j&&D.createElement(re.Z,{loadingTemplate:H}),D.createElement("div",{className:v,style:a,ref:N}))});Y.Z=ne},9033:function(U){U.exports={iconGroup:"iconGroup___3dqXz",anticon:"anticon___uFkQM",rankingList:"rankingList___2A8ot",rankingItemNumber:"rankingItemNumber___147xC",active:"active___2MWsD",rankingItemTitle:"rankingItemTitle___3ytG0",salesExtra:"salesExtra___cS5qG",currentDate:"currentDate___2qhzp",salesCard:"salesCard___3D_z3",salesBar:"salesBar___1btco",salesRank:"salesRank___22gu1",salesCardExtra:"salesCardExtra___1ExDt",salesTypeRadio:"salesTypeRadio___dd1tH",offlineCard:"offlineCard___3MPX8",trendText:"trendText___3UEKI",rankingTitle:"rankingTitle___3zg6Y",salesExtraWrap:"salesExtraWrap___2ULHn"}},11550:function(U,Y,t){"use strict";t.r(Y),t.d(Y,{default:function(){return Ye}});var D=t(58024),W=t(39144),ae=t(13254),F=t(14277),re=t(13062),C=t(71230),ne=t(89032),n=t(15746),O=t(22385),d=t(69713),a=t(11849),v=t(2824),j=t(21010),H=t(21349),y=t(67294),L=t(92077),S=t.n(L),z=t(7110),N=t(9033),Te=t.n(N),P=t(4937),e=t(85893),je=function(c){var l=c.loading,u=c.mostInteractionData,s=c.time,T=[];return u.map(function(f){var i=(0,P.l)(f.current,f.prev,0);T.push({x:"UserID-".concat(f.uid),y:f.current,a:i.diff,b:i.percentage})}),(0,e.jsx)(W.Z,{loading:l,className:Te().salesCard,bordered:!1,title:"Users with most interaction",style:{height:"100%"},children:(0,e.jsx)("div",{children:(0,e.jsx)(z.Z,{radius:.8,angleField:"y",colorField:"x",data:T,label:{type:"outer",style:{fontSize:15},formatter:function(i,o){return"".concat(S()(o._origin.y).format("0,0"))}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function(i,o){return o.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(o[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(o[0].data.y)+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(s)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(o[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(o[0].data.b)+"</div>":""}}})})})},Ze=je,_=t(3182),Re=t(94043),Z=t.n(Re);function De(){return b.apply(this,arguments)}function b(){return b=(0,_.Z)(Z().mark(function g(){return Z().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,j.WY)("/api/fake_analysis_chart_data"));case 1:case"end":return l.stop()}},g)})),b.apply(this,arguments)}function Ce(g,c,l,u,s){return B.apply(this,arguments)}function B(){return B=(0,_.Z)(Z().mark(function g(c,l,u,s,T){return Z().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,j.WY)("/api/getRepairData?startTime=".concat(c,"&endTime=").concat(l,"&_startTime=").concat(u,"&_endTime=").concat(s,"&store=").concat(T)));case 1:case"end":return i.stop()}},g)})),B.apply(this,arguments)}function Me(g,c,l,u,s){return K.apply(this,arguments)}function K(){return K=(0,_.Z)(Z().mark(function g(c,l,u,s,T){return Z().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,j.WY)("/api/getRepairType?startTime=".concat(c,"&endTime=").concat(l,"&_startTime=").concat(u,"&_endTime=").concat(s,"&store=").concat(T)));case 1:case"end":return i.stop()}},g)})),K.apply(this,arguments)}function Ee(g,c,l,u,s){return G.apply(this,arguments)}function G(){return G=(0,_.Z)(Z().mark(function g(c,l,u,s,T){return Z().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,j.WY)("/api/getMostInteractionData?startTime=".concat(c,"&endTime=").concat(l,"&_startTime=").concat(u,"&_endTime=").concat(s,"&store=").concat(T)));case 1:case"end":return i.stop()}},g)})),G.apply(this,arguments)}var Ie=t(76723),M=t(84186),E=t(68628),ie=t(21937),p=t(93356),Oe=t(85518),Se=t(30381),A=t.n(Se),Pe=Oe.tq?{marginTop:164}:{},I={xs:24,sm:24,md:24,lg:24,xl:8},Ke={xs:24,sm:24,md:24,lg:24,xl:12},Ve=function(){var c=(0,j.tT)("@@initialState"),l=c.initialState,u=(0,j.QT)(De),s=u.loading,T=u.data,f=(0,y.useState)({repair:0,warranty:0,sos:0,_repair:0,_warranty:0,_sos:0}),i=(0,v.Z)(f,2),o=i[0],We=i[1],se=o.repair,le=o.warranty,oe=o.sos,ze=o._repair,_e=o._warranty,Ae=o._sos,Ue=(0,y.useState)([]),ce=(0,v.Z)(Ue,2),Fe=ce[0],He=ce[1],Le=(0,y.useState)({totalValue:0,totalRepairs:0,completedRepairs:0,cancelledRepairs:0,averageTime:0,averageValue:0,_totalValue:0,_totalRepairs:0,_completedRepairs:0,_cancelledRepairs:0,_averageTime:0,_averageValue:0}),de=(0,v.Z)(Le,2),m=de[0],Ne=de[1],$=m.totalValue,X=m.totalRepairs,Q=m.completedRepairs,J=m.cancelledRepairs,w=m.averageTime,k=m.averageValue,pe=m._totalValue,ue=m._totalRepairs,me=m._completedRepairs,ve=m._cancelledRepairs,ge=m._averageTime,fe=m._averageValue,V=(0,P.H)(l),q=V.startTime,ee=V.endTime,x=V._startTime,h=V._endTime,te=V.store;y.useEffect(function(){Ce(q,ee,x,h,te).then(function(r){Ne((0,a.Z)((0,a.Z)({},m),{},{totalValue:r.current.totalValue,totalRepairs:r.current.totalRepairs,completedRepairs:r.current.completedRepairs,cancelledRepairs:r.current.cancelledRepairs,averageTime:parseFloat(r.current.averageTime),averageValue:parseFloat(r.current.averageValue),_totalValue:r.prev.totalValue,_totalRepairs:r.prev.totalRepairs,_completedRepairs:r.prev.completedRepairs,_cancelledRepairs:r.prev.cancelledRepairs,_averageTime:parseFloat(r.prev.averageTime),_averageValue:parseFloat(r.prev.averageValue)}))}),Me(q,ee,x,h,te).then(function(r){We((0,a.Z)((0,a.Z)({},o),{},{repair:r.repair,warranty:r.warranty,sos:r.sos,_repair:r._repair,_warranty:r._warranty,_sos:r._sos}))}),Ee(q,ee,x,h,te).then(function(r){He(r)})},[l]);var xe=(0,P.l)(se,ze,0),he=(0,P.l)(le,_e,0),ye=(0,P.l)(oe,Ae,0),be="".concat(A()(x).format("YYYY/MM/DD")," ~ ").concat(A()(h).format("YYYY/MM/DD"));return(0,e.jsx)(H.Z,{style:Pe,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(y.Suspense,{fallback:(0,e.jsx)(Ie.Z,{}),children:[(0,e.jsxs)(C.Z,{gutter:[24,24],children:[(0,e.jsx)(n.Z,(0,a.Z)((0,a.Z)({},I),{},{children:(0,e.jsx)(M.th,{bordered:!1,title:"Number of Repairs",action:(0,e.jsx)(d.Z,{title:(0,e.jsx)(p.mj,{current:X,prev:ue,_startTime:x,_endTime:h}),children:(0,e.jsx)(E.Z,{})}),loading:s,total:function(){return(0,e.jsx)("div",{children:X})},footer:(0,e.jsx)(p.eW,{current:X,prev:ue}),contentHeight:46})})),(0,e.jsx)(n.Z,(0,a.Z)((0,a.Z)({},I),{},{children:(0,e.jsx)(M.th,{bordered:!1,title:"Number of Repairs Completed",action:(0,e.jsx)(d.Z,{title:(0,e.jsx)(p.mj,{current:Q,prev:me,_startTime:x,_endTime:h}),children:(0,e.jsx)(E.Z,{})}),loading:s,total:function(){return(0,e.jsx)("div",{children:Q})},footer:(0,e.jsx)(p.eW,{current:Q,prev:me}),contentHeight:46})})),(0,e.jsx)(n.Z,(0,a.Z)((0,a.Z)({},I),{},{children:(0,e.jsx)(M.th,{bordered:!1,title:"Number Of Repairs Without Repair",action:(0,e.jsx)(d.Z,{title:(0,e.jsx)(p.mj,{current:J,prev:ve,_startTime:x,_endTime:h}),children:(0,e.jsx)(E.Z,{})}),loading:s,total:function(){return(0,e.jsx)("div",{children:J})},footer:(0,e.jsx)(p.eW,{current:J,prev:ve}),contentHeight:46})}))]}),(0,e.jsxs)(C.Z,{gutter:[24,24],style:{marginTop:24},children:[(0,e.jsx)(n.Z,(0,a.Z)((0,a.Z)({},I),{},{children:(0,e.jsx)(M.th,{bordered:!1,title:"Total Repair Value",action:(0,e.jsx)(d.Z,{title:(0,e.jsx)(p.mO,{current:$,prev:pe,_startTime:x,_endTime:h}),children:(0,e.jsx)(E.Z,{})}),loading:s,total:function(){return(0,e.jsx)(ie.Z,{children:$})},footer:(0,e.jsx)(p.eW,{current:$,prev:pe}),contentHeight:46})})),(0,e.jsx)(n.Z,(0,a.Z)((0,a.Z)({},I),{},{children:(0,e.jsx)(M.th,{bordered:!1,title:"Average Repair Value",action:(0,e.jsx)(d.Z,{title:(0,e.jsx)(p.mO,{current:k,prev:fe,_startTime:x,_endTime:h}),children:(0,e.jsx)(E.Z,{})}),loading:s,total:function(){return(0,e.jsx)(ie.Z,{children:k})},footer:(0,e.jsx)(p.eW,{current:k,prev:fe}),contentHeight:46})})),(0,e.jsx)(n.Z,(0,a.Z)((0,a.Z)({},I),{},{children:(0,e.jsx)(M.th,{bordered:!1,title:"Average time between processing & completed",action:(0,e.jsx)(d.Z,{title:(0,e.jsx)(p.Kz,{current:w,prev:ge,_startTime:x,_endTime:h}),children:(0,e.jsx)(E.Z,{})}),loading:s,total:function(){return(0,e.jsx)(p.qp,{seconds:w})},footer:(0,e.jsx)(p.X6,{current:w,prev:ge}),contentHeight:46})}))]})]}),(0,e.jsx)(C.Z,{gutter:24,style:{marginTop:24},children:(0,e.jsx)(n.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,e.jsx)(y.Suspense,{fallback:null,children:(0,e.jsx)(Ze,{loading:s,mostInteractionData:Fe,time:"".concat(A()(x).format("YYYY/MM/DD")," ~ ").concat(A()(h).format("YYYY/MM/DD"))})})})}),(0,e.jsx)(C.Z,{gutter:24,style:{marginTop:24},children:(0,e.jsx)(n.Z,{xl:24,lg:24,md:24,sm:24,xs:24,children:(0,e.jsx)(y.Suspense,{fallback:null,children:(0,e.jsx)(W.Z,{loading:s,bordered:!1,title:"Repair Type",style:{height:"100%"},children:o?(0,e.jsx)(z.Z,{radius:.8,angleField:"y",colorField:"x",data:[{x:"repair",y:se,a:xe.diff,b:xe.percentage},{x:"warranty",y:le,a:he.diff,b:he.percentage},{x:"sos",y:oe,a:ye.diff,b:ye.percentage}],label:{type:"outer",style:{fontSize:15},formatter:function(Be,R){return"".concat(S()(R._origin.y).format("0,0"))}},interactions:[{type:"element-single-selected"},{type:"element-active"}],tooltip:{customContent:function(Be,R){return R.length>0?'<div style="padding: 10px; font-size: 15px">'+"".concat(R[0].data.x)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(R[0].data.y)+'</div><div style="padding: 10px; font-size: 15px">'+"Compared: ".concat(be)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(R[0].data.a)+'</div><div style="padding: 10px; font-size: 15px">'+"".concat(R[0].data.b)+"</div>":""}}}):(0,e.jsx)(F.Z,{})})})})})]})})},Ye=Ve}}]);
